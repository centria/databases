<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 3.14.6"/><link rel="icon" href="/databases/favicon-32x32.png?v=dd253edc615d56282c5dcdfb24ca4261" type="image/png"/><link rel="manifest" href="/databases/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#a2466c"/><link rel="apple-touch-icon" sizes="48x48" href="/databases/icons/icon-48x48.png?v=dd253edc615d56282c5dcdfb24ca4261"/><link rel="apple-touch-icon" sizes="72x72" href="/databases/icons/icon-72x72.png?v=dd253edc615d56282c5dcdfb24ca4261"/><link rel="apple-touch-icon" sizes="96x96" href="/databases/icons/icon-96x96.png?v=dd253edc615d56282c5dcdfb24ca4261"/><link rel="apple-touch-icon" sizes="144x144" href="/databases/icons/icon-144x144.png?v=dd253edc615d56282c5dcdfb24ca4261"/><link rel="apple-touch-icon" sizes="192x192" href="/databases/icons/icon-192x192.png?v=dd253edc615d56282c5dcdfb24ca4261"/><link rel="apple-touch-icon" sizes="256x256" href="/databases/icons/icon-256x256.png?v=dd253edc615d56282c5dcdfb24ca4261"/><link rel="apple-touch-icon" sizes="384x384" href="/databases/icons/icon-384x384.png?v=dd253edc615d56282c5dcdfb24ca4261"/><link rel="apple-touch-icon" sizes="512x512" href="/databases/icons/icon-512x512.png?v=dd253edc615d56282c5dcdfb24ca4261"/><title data-react-helmet="true">Multible tables</title><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link as="script" rel="preload" href="/databases/webpack-runtime-268f6552388089c91965.js"/><link as="script" rel="preload" href="/databases/framework-d79a9ccabaa25efea902.js"/><link as="script" rel="preload" href="/databases/app-ed530a94b36d312dc3da.js"/><link as="script" rel="preload" href="/databases/commons-2a140772cd0d960d3ca2.js"/><link as="script" rel="preload" href="/databases/component---src-templates-docs-js-c82167b9612215b3fdf2.js"/><link as="fetch" rel="preload" href="/databases/page-data/part3/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/databases/page-data/sq/d/1885717130.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/databases/page-data/sq/d/1950529541.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/databases/page-data/sq/d/2744905544.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/databases/page-data/sq/d/3020054368.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/databases/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
  var mode = localStorage.getItem('theme-ui-color-mode');
  if (!mode) return
  document.documentElement.classList.add('theme-ui-' + mode);
} catch (e) {} })();</script><div id="___gatsby"><style data-emotion="css-global xghfnh">html{--theme-ui-colors-header:#fff;--theme-ui-colors-text:#000;--theme-ui-colors-primary:#E10E49;--theme-ui-colors-secondary:#c70d3a;--theme-ui-colors-highlight:#efeffe;--theme-ui-colors-exercise:#3333ee;--theme-ui-colors-sidebar:#f8f5f1;--theme-ui-colors-background:#fff;--theme-ui-colors-borderColor:rgba(0, 0, 0, 0.15);--theme-ui-colors-footer:#E10E49;color:var(--theme-ui-colors-text);background-color:var(--theme-ui-colors-background);}</style><style data-emotion="css-global dcnl1w">*{box-sizing:border-box;}html{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.5;font-weight:400;}html h1{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:36px;}html h1::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}html h2{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:28px;}html h2::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}html h3{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:24px;}html h3::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}html h4{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:16px;}html h4::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}html h5{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:14px;}html h5::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}html h6{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:12px;}html h6::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}body{margin:0;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css ylfa0c">.css-ylfa0c{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.5;font-weight:400;}.css-ylfa0c h1{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:36px;}.css-ylfa0c h1::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}.css-ylfa0c h2{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:28px;}.css-ylfa0c h2::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}.css-ylfa0c h3{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:24px;}.css-ylfa0c h3::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}.css-ylfa0c h4{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:16px;}.css-ylfa0c h4::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}.css-ylfa0c h5{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:14px;}.css-ylfa0c h5::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}.css-ylfa0c h6{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:12px;}.css-ylfa0c h6::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}</style><div class="css-ylfa0c"><style data-emotion="css-global 5u4lmb">:root{--ease-in-quad:cubic-bezier(0.55, 0.085, 0.68, 0.53);--ease-in-quart:cubic-bezier(0.895, 0.03, 0.685, 0.22);--ease-out-quad:cubic-bezier(0.25, 0.46, 0.45, 0.94);--ease-out-quart:cubic-bezier(0.165, 0.84, 0.44, 1);--ease-in-out-quad:cubic-bezier(0.455, 0.03, 0.515, 0.955);--ease-in-out-quart:cubic-bezier(0.77, 0, 0.175, 1);}*,*:before,*:after{box-sizing:inherit;}:root{box-sizing:border-box;}body{margin:0;}.gatsby-resp-image-image{width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;}</style><style data-emotion="css dl5fst">.css-dl5fst{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:1rem 1rem;z-index:5;background:var(--theme-ui-colors-header);-webkit-transition:all 0.25s var(--ease-in-out-quad);transition:all 0.25s var(--ease-in-out-quad);border-bottom:1px solid var(--theme-ui-colors-borderColor);}@media (min-width: 38.73684210526316em){.css-dl5fst{position:fixed;top:0;left:0;right:0;padding:1rem 1.2rem;-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);}}</style><header class="css-dl5fst eneaom32"><style data-emotion="css 13apmpg">.css-13apmpg{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:0;text-alight:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-13apmpg eneaom30"><style data-emotion="css 1gp7fjh">.css-1gp7fjh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-right:1rem;}@media (min-width: 38.73684210526316em){.css-1gp7fjh{display:none;}}</style><div class="css-1gp7fjh eneaom31"><style data-emotion="css i05np8">.css-i05np8{padding:0;background:none;border:none;color:var(--theme-ui-colors-text);cursor:pointer;font-size:0.8rem;}.css-i05np8:hover{color:var(--theme-ui-colors-primary);}</style><button type="button" aria-label="Open Navigation" title="Open Navigation" class="css-i05np8 e1onh9ai0"><style data-emotion="css z2vy6x">.css-z2vy6x{display:inline-block;width:30px;height:30px;}</style><span size="30" class="css-z2vy6x e1jw6cnh0"><style data-emotion="css 17rqqes">.css-17rqqes{fill:var(--theme-ui-colors-text);-webkit-transition:all 0.2s ease-out;transition:all 0.2s ease-out;}.css-17rqqes:hover,.css-17rqqes:focus{fill:var(--theme-ui-colors-primary);}</style><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="css-17rqqes e15jrc190"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg></span></button></div><style data-emotion="css 13bl6n6">.css-13bl6n6{width:10rem;}.css-13bl6n6 p{margin:0;font-size:1.6rem;}</style><div class="css-13bl6n6 ewwdldv1"><style data-emotion="css o97vb3">.css-o97vb3{display:block;-webkit-text-decoration:none;text-decoration:none;color:var(--theme-ui-colors-text);-webkit-transition:color 0.2s ease-out;transition:color 0.2s ease-out;}.css-o97vb3:hover,.css-o97vb3:focus{color:var(--theme-ui-colors-primary);}</style><a class="css-o97vb3 ewwdldv0" href="/databases/"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:2641px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;1219&#x27; width=&#x27;2641&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/avif" data-srcset="/databases/static/7c5268770640a4d118046a43d1aa9fe2/9469b/Centria-tunnus-RGB-FI-marginaalilla.avif 660w,/databases/static/7c5268770640a4d118046a43d1aa9fe2/bb0ac/Centria-tunnus-RGB-FI-marginaalilla.avif 1321w,/databases/static/7c5268770640a4d118046a43d1aa9fe2/7558a/Centria-tunnus-RGB-FI-marginaalilla.avif 2641w" sizes="(min-width: 2641px) 2641px, 100vw"/><source type="image/webp" data-srcset="/databases/static/7c5268770640a4d118046a43d1aa9fe2/9ecf4/Centria-tunnus-RGB-FI-marginaalilla.webp 660w,/databases/static/7c5268770640a4d118046a43d1aa9fe2/316a0/Centria-tunnus-RGB-FI-marginaalilla.webp 1321w,/databases/static/7c5268770640a4d118046a43d1aa9fe2/93023/Centria-tunnus-RGB-FI-marginaalilla.webp 2641w" sizes="(min-width: 2641px) 2641px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2641px) 2641px, 100vw" decoding="async" loading="lazy" data-src="/databases/static/7c5268770640a4d118046a43d1aa9fe2/0cf45/Centria-tunnus-RGB-FI-marginaalilla.jpg" data-srcset="/databases/static/7c5268770640a4d118046a43d1aa9fe2/39f99/Centria-tunnus-RGB-FI-marginaalilla.jpg 660w,/databases/static/7c5268770640a4d118046a43d1aa9fe2/844fa/Centria-tunnus-RGB-FI-marginaalilla.jpg 1321w,/databases/static/7c5268770640a4d118046a43d1aa9fe2/0cf45/Centria-tunnus-RGB-FI-marginaalilla.jpg 2641w" alt="Centria banner"/></picture><noscript><picture><source type="image/avif" srcSet="/databases/static/7c5268770640a4d118046a43d1aa9fe2/9469b/Centria-tunnus-RGB-FI-marginaalilla.avif 660w,/databases/static/7c5268770640a4d118046a43d1aa9fe2/bb0ac/Centria-tunnus-RGB-FI-marginaalilla.avif 1321w,/databases/static/7c5268770640a4d118046a43d1aa9fe2/7558a/Centria-tunnus-RGB-FI-marginaalilla.avif 2641w" sizes="(min-width: 2641px) 2641px, 100vw"/><source type="image/webp" srcSet="/databases/static/7c5268770640a4d118046a43d1aa9fe2/9ecf4/Centria-tunnus-RGB-FI-marginaalilla.webp 660w,/databases/static/7c5268770640a4d118046a43d1aa9fe2/316a0/Centria-tunnus-RGB-FI-marginaalilla.webp 1321w,/databases/static/7c5268770640a4d118046a43d1aa9fe2/93023/Centria-tunnus-RGB-FI-marginaalilla.webp 2641w" sizes="(min-width: 2641px) 2641px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2641px) 2641px, 100vw" decoding="async" loading="lazy" src="/databases/static/7c5268770640a4d118046a43d1aa9fe2/0cf45/Centria-tunnus-RGB-FI-marginaalilla.jpg" srcSet="/databases/static/7c5268770640a4d118046a43d1aa9fe2/39f99/Centria-tunnus-RGB-FI-marginaalilla.jpg 660w,/databases/static/7c5268770640a4d118046a43d1aa9fe2/844fa/Centria-tunnus-RGB-FI-marginaalilla.jpg 1321w,/databases/static/7c5268770640a4d118046a43d1aa9fe2/0cf45/Centria-tunnus-RGB-FI-marginaalilla.jpg 2641w" alt="Centria banner"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div></a></div></div></header><style data-emotion="css pn4xbf">.css-pn4xbf{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:100vh;position:relative;overflow-x:hidden;background:var(--theme-ui-colors-background);-webkit-transition:background 0.25s var(--ease-in-out-quad);transition:background 0.25s var(--ease-in-out-quad);}</style><div class="css-pn4xbf e1krdi8y3"><style data-emotion="css 1oex1pb">.css-1oex1pb{margin-left:-19rem;-webkit-flex:0 0 19rem;-ms-flex:0 0 19rem;flex:0 0 19rem;font-size:0.875rem;}@media (min-width: 38.73684210526316em){.css-1oex1pb{margin-left:0;}}</style><aside class="css-1oex1pb ednv8641"><style data-emotion="css 1wrooys">.css-1wrooys{position:fixed;top:0;bottom:0;overflow-x:hidden;overflow-y:auto;width:19rem;height:100%;padding:1rem 0;background:var(--theme-ui-colors-sidebar);-webkit-transition:0.25s var(--ease-in-out-quad);transition:0.25s var(--ease-in-out-quad);}@media (min-width: 38.73684210526316em){.css-1wrooys{-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);padding:6.6rem 0 1rem;}}</style><nav class="css-1wrooys ednv8640"><style data-emotion="css pv1s1f">.css-pv1s1f{margin:0;padding:0;list-style:none;}</style><ul class="css-pv1s1f e1dzqqml0"><style data-emotion="css 1lbpo2j">.css-1lbpo2j{position:relative;display:block;padding:0;margin:0.2rem 0;width:100%;list-style:none;}</style><li class="css-1lbpo2j eo1v1f02"><style data-emotion="css 2kw81a">.css-2kw81a{margin:0.5rem 0 0.5rem 1.2rem;padding:0;list-style:none;}.css-2kw81a>li{margin:0;}</style><ul class="css-2kw81a eo1v1f00"><li class="css-1lbpo2j eo1v1f02"><style data-emotion="css zl329z">.css-zl329z{display:block;padding:0.5rem 1.8rem 0.5rem 1.2rem;width:100%;color:var(--theme-ui-colors-text);font-weight:600;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:color 0.2s ease-out;transition:color 0.2s ease-out;}.css-zl329z:hover,.css-zl329z:focus,.css-zl329z.is-active{color:var(--theme-ui-colors-primary);}</style><a class="css-zl329z eo1v1f01" href="/databases/part1">First steps</a></li><li class="css-1lbpo2j eo1v1f02"><a class="css-zl329z eo1v1f01" href="/databases/part2">SQL Basics</a></li><li class="css-1lbpo2j eo1v1f02"><a aria-current="page" class="css-zl329z eo1v1f01 is-active" href="/databases/part3">Multible tables</a></li><li class="css-1lbpo2j eo1v1f02"><a class="css-zl329z eo1v1f01" href="/databases/part4">More techniques</a></li><li class="css-1lbpo2j eo1v1f02"><a class="css-zl329z eo1v1f01" href="/databases/part5">Designing databases</a></li><li class="css-1lbpo2j eo1v1f02"><a class="css-zl329z eo1v1f01" href="/databases/part6">Data integrity</a></li><li class="css-1lbpo2j eo1v1f02"><a class="css-zl329z eo1v1f01" href="/databases/part7">Efficiency</a></li><li class="css-1lbpo2j eo1v1f02"><a class="css-zl329z eo1v1f01" href="/databases/exercises">Exercises and Exam</a></li></ul></li></ul></nav></aside><style data-emotion="css 1a5xr11">.css-1a5xr11{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;min-width:20rem;padding-bottom:5rem;}</style><div class="css-1a5xr11 e1krdi8y2"><style data-emotion="css 1ni6xgg">.css-1ni6xgg{margin:auto;padding:2rem 1rem 2.5rem;-webkit-transition:0.25s var(--ease-in-out-quad);transition:0.25s var(--ease-in-out-quad);opacity:1;}@media (min-width: 38.73684210526316em){.css-1ni6xgg{-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);opacity:1;padding:7rem 3rem 3rem;max-width:50rem;}}</style><main class="css-1ni6xgg e1krdi8y1"><style data-emotion="css 1daj6ng">.css-1daj6ng{padding-top:0;margin-top:0;}.css-1daj6ng::before{display:none!important;}</style><h1 class="css-1daj6ng e137ubq00">Multible tables</h1><style data-emotion="css 1up8dbe">.css-1up8dbe{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:36px;}.css-1up8dbe::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}</style><h1 id="references-and-queries" class="css-1up8dbe">References and queries</h1><style data-emotion="css zitybv">.css-zitybv{margin-top:32px;margin-bottom:32px;}</style><p class="css-zitybv">The central idea about relational databases is, that a row in a table can <em class="css-0">rerefence</em> to a row in another table. Thus we can form a query, which collects information from several tables, based on the references. In practice the reference is usually made to the <style data-emotion="css 1eipsn1">.css-1eipsn1{color:var(--theme-ui-colors-primary);background:rgba(233, 218, 172, 0.15);border-radius:3px;padding-left:0.4rem;padding-right:0.4rem;padding-top:0.2rem;padding-bottom:0.2rem;}</style><code class="css-1eipsn1">id</code> of the other table.</p><style data-emotion="css vq3asz">.css-vq3asz{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:28px;}.css-vq3asz::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}</style><h2 id="example" class="css-vq3asz">Example</h2><p class="css-zitybv">Let&#x27;s examine a situation, where a database has information about coursee and their teachers. We assume, that each course has only one teacher, and one teacher can teach several courses.</p><p class="css-zitybv">We save the information about teachers into the table <code class="css-1eipsn1">Teachers</code>. Each teacher has an <code class="css-1eipsn1">id</code>, which we can reference.</p><style data-emotion="css 14vuu3">.css-14vuu3{background-color:#282c34;color:#ffffff;font-family:"Operator Mono",monospace;font-size:0.9rem;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;overflow:auto;border-radius:6px;padding:16px;margin-top:32px;margin-bottom:32px;}.css-14vuu3 .attr-name{color:#c5a5c5;}.css-14vuu3 .attr-value{color:#8dc891;}.css-14vuu3 .comment,.css-14vuu3 .block-comment,.css-14vuu3 .prolog,.css-14vuu3 .doctype,.css-14vuu3 .cdata,.css-14vuu3 .shebang{color:#999999;}.css-14vuu3 .property,.css-14vuu3 .number,.css-14vuu3 .function-name,.css-14vuu3 .constant,.css-14vuu3 .symbol,.css-14vuu3 .deleted{color:#5a9bcf;}.css-14vuu3 .boolean{color:#ff8b50;}.css-14vuu3 .tag{color:#fc929e;}.css-14vuu3 .string{color:#8dc891;}.css-14vuu3 .punctuation{color:#8dc891;}.css-14vuu3 .selector,.css-14vuu3 .char,.css-14vuu3 .builtin,.css-14vuu3 .inserted{color:#D8DEE9;}.css-14vuu3 .function{color:#79b6f2;}.css-14vuu3 .operator,.css-14vuu3 .entity,.css-14vuu3 .url,.css-14vuu3 .variable{color:#d7deea;}.css-14vuu3 .keyword{color:#c5a5c5;}.css-14vuu3 .at-rule,.css-14vuu3 .class-name{color:#FAC863;}.css-14vuu3 .important{font-weight:400;}.css-14vuu3 .bold{font-weight:700;}.css-14vuu3 .italic{font-style:italic;}.css-14vuu3 .namespace{opacity:0.7;}.css-14vuu3 .highlight{background-color:var(--theme-ui-colors-highlight);font-weight:700;}</style><style data-emotion="css 1itelf7">.css-1itelf7{background-color:#282c34;color:#ffffff;font-family:"Operator Mono",monospace;font-size:0.9rem;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;overflow:auto;border-radius:6px;padding:16px;margin-top:32px;margin-bottom:32px;}.css-1itelf7 .attr-name{color:#c5a5c5;}.css-1itelf7 .attr-value{color:#8dc891;}.css-1itelf7 .comment,.css-1itelf7 .block-comment,.css-1itelf7 .prolog,.css-1itelf7 .doctype,.css-1itelf7 .cdata,.css-1itelf7 .shebang{color:#999999;}.css-1itelf7 .property,.css-1itelf7 .number,.css-1itelf7 .function-name,.css-1itelf7 .constant,.css-1itelf7 .symbol,.css-1itelf7 .deleted{color:#5a9bcf;}.css-1itelf7 .boolean{color:#ff8b50;}.css-1itelf7 .tag{color:#fc929e;}.css-1itelf7 .string{color:#8dc891;}.css-1itelf7 .punctuation{color:#8dc891;}.css-1itelf7 .selector,.css-1itelf7 .char,.css-1itelf7 .builtin,.css-1itelf7 .inserted{color:#D8DEE9;}.css-1itelf7 .function{color:#79b6f2;}.css-1itelf7 .operator,.css-1itelf7 .entity,.css-1itelf7 .url,.css-1itelf7 .variable{color:#d7deea;}.css-1itelf7 .keyword{color:#c5a5c5;}.css-1itelf7 .at-rule,.css-1itelf7 .class-name{color:#FAC863;}.css-1itelf7 .important{font-weight:400;}.css-1itelf7 .bold{font-weight:700;}.css-1itelf7 .italic{font-style:italic;}.css-1itelf7 .namespace{opacity:0.7;}.css-1itelf7 .highlight{background-color:var(--theme-ui-colors-highlight);font-weight:700;}</style><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">id          name      </span></div><div class="token-line"><span class="token plain">----------  ----------</span></div><div class="token-line"><span class="token plain">1           Ahonen     </span></div><div class="token-line"><span class="token plain">2           Isohanni</span></div><div class="token-line"><span class="token plain">3           Niemi   </span></div><div class="token-line"><span class="token plain">4           Laaksonen</span></div></pre><p class="css-zitybv">In the table <code class="css-1eipsn1">Courses</code> we have the information about the courses and for each course we have a reference to the teacher.</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">id          name               teacher_id</span></div><div class="token-line"><span class="token plain">----------  ----------------   -----------</span></div><div class="token-line"><span class="token plain">1           Basic programming  3          </span></div><div class="token-line"><span class="token plain">2           More programming   1          </span></div><div class="token-line"><span class="token plain">3           Algorithms         1          </span></div><div class="token-line"><span class="token plain">4           Scrum masters      4          </span></div><div class="token-line"><span class="token plain">5           Algebra            3</span></div></pre><p class="css-zitybv">We can now get the courses with their teacher with the following query, which searches information from both tables <code class="css-1eipsn1">Courses</code> and <code class="css-1eipsn1">Teachers</code> at the same time:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> Courses</span><span class="token punctuation">.</span><span class="token plain">name</span><span class="token punctuation">,</span><span class="token plain"> Teachers</span><span class="token punctuation">.</span><span class="token plain">name</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">FROM</span><span class="token plain"> Courses</span><span class="token punctuation">,</span><span class="token plain"> Teachers</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">WHERE</span><span class="token plain"> Courses</span><span class="token punctuation">.</span><span class="token plain">teacher_id </span><span class="token operator">=</span><span class="token plain"> Teachers</span><span class="token punctuation">.</span><span class="token plain">id</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">As the query has multiple tables, we declare the tables for the columns. For example <code class="css-1eipsn1">Courses.name</code> refers to the column <code class="css-1eipsn1">name</code> for the table <code class="css-1eipsn1">Courses</code>.</p><p class="css-zitybv">The query returns information as follows:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">name                name      </span></div><div class="token-line"><span class="token plain">------------------  ----------</span></div><div class="token-line"><span class="token plain">Basic programming   Niemi   </span></div><div class="token-line"><span class="token plain">More programming    Ahonen     </span></div><div class="token-line"><span class="token plain">Algorithms          Ahonen     </span></div><div class="token-line"><span class="token plain">Scrum masters       Laaksonen </span></div><div class="token-line"><span class="token plain">Algebra             Niemi</span></div></pre><h2 id="what-actually-happened-here" class="css-vq3asz">What actually happened here?</h2><p class="css-zitybv">In the query above, compared to previous queries, we are using multiple tables (FROM Courses, Teachers), but what does it mean in practice?</p><p class="css-zitybv">The basic idea is, that when a query has several tables, the starting point of the query is all the possible combinations of all the rows in all the selected tables. After this we use <code class="css-1eipsn1">WHERE</code> to define, which of the combinations are we interested at.</p><p class="css-zitybv">A good way to understand the functionality with multiple tables is to first examine a query, which gets us all the columns and does not have a <code class="css-1eipsn1">WHERE</code>. In the example database above the search could be as follows:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword">FROM</span><span class="token plain"> Courses</span><span class="token punctuation">,</span><span class="token plain"> Teachers</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">Because we have 5 rows in table <code class="css-1eipsn1">Courses</code> and 4 rows in table <code class="css-1eipsn1">Teachers</code>, the result set of the query is 5 * 4 = 20 rows. The result set contains all the possible ways to first select a row from table Courses and then a row from table Teachers:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">id          name                teacher_id   id          name      </span></div><div class="token-line"><span class="token plain">----------  ------------------  -----------  ----------  ----------</span></div><div class="token-line"><span class="token plain">1           Basic programming   3            1           Ahonen     </span></div><div class="token-line"><span class="token plain">1           Basic programming   3            2           Isohanni</span></div><div class="token-line"><span class="token plain">1           Basic programming   3            3           Niemi   </span></div><div class="token-line"><span class="token plain">1           Basic programming   3            4           Laaksonen </span></div><div class="token-line"><span class="token plain">2           More programming    1            1           Ahonen     </span></div><div class="token-line"><span class="token plain">2           More programming    1            2           Isohanni</span></div><div class="token-line"><span class="token plain">2           More programming    1            3           Niemi   </span></div><div class="token-line"><span class="token plain">2           More programming    1            4           Laaksonen </span></div><div class="token-line"><span class="token plain">3           Algorithms          1            1           Ahonen     </span></div><div class="token-line"><span class="token plain">3           Algorithms          1            2           Isohanni</span></div><div class="token-line"><span class="token plain">3           Algorithms          1            3           Niemi   </span></div><div class="token-line"><span class="token plain">3           Algorithms          1            4           Laaksonen </span></div><div class="token-line"><span class="token plain">4           Scrum masters       4            1           Ahonen     </span></div><div class="token-line"><span class="token plain">4           Scrum masters       4            2           Isohanni</span></div><div class="token-line"><span class="token plain">4           Scrum masters       4            3           Niemi   </span></div><div class="token-line"><span class="token plain">4           Scrum masters       4            4           Laaksonen </span></div><div class="token-line"><span class="token plain">5           Algebra             3            1           Ahonen     </span></div><div class="token-line"><span class="token plain">5           Algebra             3            2           Isohanni</span></div><div class="token-line"><span class="token plain">5           Algebra             3            3           Niemi   </span></div><div class="token-line"><span class="token plain">5           Algebra             3            4           Laaksonen</span></div></pre><p class="css-zitybv">Most of these result rows are not interesting how ever, as they are not connected to one another in any way. For example the first row of results tells us, that a course called <em class="css-0">Basic programming</em> exists, and so does a teacher called <em class="css-0">Ahonen</em>. For this we limit our search, so thaat the teacher&#x27;s <code class="css-1eipsn1">id</code> has to match on both tables:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword">FROM</span><span class="token plain"> Courses</span><span class="token punctuation">,</span><span class="token plain"> Teachers</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">WHERE</span><span class="token plain"> Courses</span><span class="token punctuation">.</span><span class="token plain">teacher_id </span><span class="token operator">=</span><span class="token plain"> Teachers</span><span class="token punctuation">.</span><span class="token plain">id</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">With this change we get a more meaningful result:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">id          name               teacher_id   id          name      </span></div><div class="token-line"><span class="token plain">----------  ----------------   -----------  ----------  ----------</span></div><div class="token-line"><span class="token plain">1           Basic programming  3            3           Niemi   </span></div><div class="token-line"><span class="token plain">2           More programming   1            1           Ahonen     </span></div><div class="token-line"><span class="token plain">3           Algorithms         1            1           Ahonen     </span></div><div class="token-line"><span class="token plain">4           Scrum masters      4            4           Laaksonen </span></div><div class="token-line"><span class="token plain">5           Algebra            3            3           Niemi</span></div></pre><p class="css-zitybv">Now we can improve more by telling the columns we are interested in:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> Courses</span><span class="token punctuation">.</span><span class="token plain">name</span><span class="token punctuation">,</span><span class="token plain"> Teachers</span><span class="token punctuation">.</span><span class="token plain">name</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">FROM</span><span class="token plain"> Courses</span><span class="token punctuation">,</span><span class="token plain"> Teachers</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">WHERE</span><span class="token plain"> Courses</span><span class="token punctuation">.</span><span class="token plain">teacher_id </span><span class="token operator">=</span><span class="token plain"> Teachers</span><span class="token punctuation">.</span><span class="token plain">id</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">And get the same result as earlier:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">name                name      </span></div><div class="token-line"><span class="token plain">------------------  ----------</span></div><div class="token-line"><span class="token plain">Basic programming   Niemi   </span></div><div class="token-line"><span class="token plain">More programming    Ahonen     </span></div><div class="token-line"><span class="token plain">Algorithms          Ahonen     </span></div><div class="token-line"><span class="token plain">Scrum masters       Laaksonen </span></div><div class="token-line"><span class="token plain">Algebra             Niemi</span></div></pre><h2 id="more-conditions-in-a-query" class="css-vq3asz">More conditions in a query</h2><p class="css-zitybv">In a query for multiple tables, the <code class="css-1eipsn1">WHERE</code> connects the rows of interest for us, but we can have more conditions with the <code class="css-1eipsn1">WHERE</code> just like before. For example we could do the following query:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> Courses</span><span class="token punctuation">.</span><span class="token plain">name</span><span class="token punctuation">,</span><span class="token plain"> Teachers</span><span class="token punctuation">.</span><span class="token plain">name</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">FROM</span><span class="token plain"> Courses</span><span class="token punctuation">,</span><span class="token plain"> Teachers</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">WHERE</span><span class="token plain"> Courses</span><span class="token punctuation">.</span><span class="token plain">teacher_id </span><span class="token operator">=</span><span class="token plain"> Teachers</span><span class="token punctuation">.</span><span class="token plain">id </span><span class="token operator">AND</span><span class="token plain"> Teachers</span><span class="token punctuation">.</span><span class="token plain">name </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;Niemi&#x27;</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">Now we get all the courses taught by Niemi:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">name              name      </span></div><div class="token-line"><span class="token plain">----------------  ----------</span></div><div class="token-line"><span class="token plain">Basic programming  Niemi   </span></div><div class="token-line"><span class="token plain">Algebra  Niemi</span></div></pre><h2 id="short-names-for-tables" class="css-vq3asz">Short names for tables</h2><p class="css-zitybv">We can concentrate our queries by giving the tables alternative shorter names, with which we can reference them in the query. For example the query</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> Courses</span><span class="token punctuation">.</span><span class="token plain">name</span><span class="token punctuation">,</span><span class="token plain"> Teachers</span><span class="token punctuation">.</span><span class="token plain">name</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">FROM</span><span class="token plain"> Courses</span><span class="token punctuation">,</span><span class="token plain"> Teachers</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">WHERE</span><span class="token plain"> Courses</span><span class="token punctuation">.</span><span class="token plain">teacher_id </span><span class="token operator">=</span><span class="token plain"> Teachers</span><span class="token punctuation">.</span><span class="token plain">id</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">Can be shortened into:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> C</span><span class="token punctuation">.</span><span class="token plain">name</span><span class="token punctuation">,</span><span class="token plain"> T</span><span class="token punctuation">.</span><span class="token plain">name</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">FROM</span><span class="token plain"> Courses </span><span class="token keyword">AS</span><span class="token plain"> C</span><span class="token punctuation">,</span><span class="token plain"> Teachers </span><span class="token keyword">AS</span><span class="token plain"> T</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">WHERE</span><span class="token plain"> C</span><span class="token punctuation">.</span><span class="token plain">teacher_id </span><span class="token operator">=</span><span class="token plain"> T</span><span class="token punctuation">.</span><span class="token plain">id</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">And as the <code class="css-1eipsn1">AS</code> is not compulsory, we can even do:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> C</span><span class="token punctuation">.</span><span class="token plain">name</span><span class="token punctuation">,</span><span class="token plain"> T</span><span class="token punctuation">.</span><span class="token plain">name</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">FROM</span><span class="token plain"> Courses C</span><span class="token punctuation">,</span><span class="token plain"> Teachers T</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">WHERE</span><span class="token plain"> C</span><span class="token punctuation">.</span><span class="token plain">teacher_id </span><span class="token operator">=</span><span class="token plain"> T</span><span class="token punctuation">.</span><span class="token plain">id</span><span class="token punctuation">;</span></div></pre><h2 id="repeating-a-table" class="css-vq3asz">Repeating a table</h2><p class="css-zitybv">In a query for multiple tables we can use the same table more than once, as long as they are given different names. For example, the following query returns all the possible combinations for choosing how to pair two teachers:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> A</span><span class="token punctuation">.</span><span class="token plain">name</span><span class="token punctuation">,</span><span class="token plain"> B</span><span class="token punctuation">.</span><span class="token plain">name </span><span class="token keyword">FROM</span><span class="token plain"> Teachers A</span><span class="token punctuation">,</span><span class="token plain"> Teachers B</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">Query returns as follows:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">name        name      </span></div><div class="token-line"><span class="token plain">----------  ----------</span></div><div class="token-line"><span class="token plain">Ahonen       Ahonen     </span></div><div class="token-line"><span class="token plain">Ahonen       Isohanni</span></div><div class="token-line"><span class="token plain">Ahonen       Niemi   </span></div><div class="token-line"><span class="token plain">Ahonen       Laaksonen </span></div><div class="token-line"><span class="token plain">Isohanni     Ahonen     </span></div><div class="token-line"><span class="token plain">Isohanni     Isohanni</span></div><div class="token-line"><span class="token plain">Isohanni     Niemi   </span></div><div class="token-line"><span class="token plain">Isohanni     Laaksonen </span></div><div class="token-line"><span class="token plain">Niemi        Ahonen     </span></div><div class="token-line"><span class="token plain">Niemi        Isohanni</span></div><div class="token-line"><span class="token plain">Niemi        Niemi   </span></div><div class="token-line"><span class="token plain">Niemi        Laaksonen </span></div><div class="token-line"><span class="token plain">Laaksonen    Ahonen     </span></div><div class="token-line"><span class="token plain">Laaksonen    Isohanni</span></div><div class="token-line"><span class="token plain">Laaksonen    Niemi   </span></div><div class="token-line"><span class="token plain">Laaksonen    Laaksonen</span></div></pre><h1 id="junction-table" class="css-1up8dbe">Junction table</h1><p class="css-zitybv">There are usually two types of relations between tables:</p><ol class="css-0"><li class="css-0"><em class="css-0">One-to-many</em> relation: A row from <em class="css-0">Table A</em> is connected to a maximum of one row in <em class="css-0">Table B</em>. A row from <em class="css-0">Table B</em> can be connected to many rows in <em class="css-0">Table A</em>.</li><li class="css-0"><em class="css-0">Many-to-many</em> relation: A row from <em class="css-0">Table A</em> can be connected many rows in <em class="css-0">Table B</em>. A row from <em class="css-0">Table B</em> can be connected to many rows in <em class="css-0">Table A</em>. </li></ol><p class="css-zitybv">In the first case we can add a column to <em class="css-0">Table A</em> which references to <em class="css-0">Table B</em>, as we have previously done. In the second case the situation is more difficult, as a single reference in either table would not be sufficient. The solution is to create a third table, which contains the information about the references.</p><h2 id="example-1" class="css-vq3asz">Example</h2><p class="css-zitybv">Let&#x27;s examine a situation, where a webshop has products and customers, and each customer has selected a certain amount of products into their shopping cart. A certain customer can have several products, and also same product can be in several customers&#x27; carts.</p><p class="css-zitybv">We will build our database so that it has three tables: Products, Customers and Purchases. The <em class="css-0">junction table</em> Purchases identicates, which products are in which customer&#x27;s shopping carts. Each row for it is a representation of a pair <em class="css-0">&quot;customer X&#x27;s cart contains product Y&quot;</em>.</p><p class="css-zitybv">We assume our tables to have the following content:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">Products </span></div><div class="token-line"><span class="token plain"> id  name     price</span></div><div class="token-line"><span class="token plain"> --  ------   -----</span></div><div class="token-line"><span class="token plain"> 1   radish   7  </span></div><div class="token-line"><span class="token plain"> 2   carrot   5  </span></div><div class="token-line"><span class="token plain"> 3   turnip   4  </span></div><div class="token-line"><span class="token plain"> 4   parsley  8  </span></div><div class="token-line"><span class="token plain"> 5   celery   4  </span></div><div class="token-line"><style data-emotion="css 13aqjzy">.css-13aqjzy{display:inline-block;}</style><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain"> Customers </span></div><div class="token-line"><span class="token plain"> id  name  </span></div><div class="token-line"><span class="token plain"> --  ------</span></div><div class="token-line"><span class="token plain"> 1   Uolevi</span></div><div class="token-line"><span class="token plain"> 2   Maija</span></div><div class="token-line"><span class="token plain"> 3   Aapeli</span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain"> Purchases </span></div><div class="token-line"><span class="token plain"> customer_id  product_id</span></div><div class="token-line"><span class="token plain"> -----------  ----------</span></div><div class="token-line"><span class="token plain"> 1            2</span></div><div class="token-line"><span class="token plain"> 1            5</span></div><div class="token-line"><span class="token plain"> 2            1</span></div><div class="token-line"><span class="token plain"> 2            4</span></div><div class="token-line"><span class="token plain"> 2            5</span></div></pre><p class="css-zitybv">Now we can get the customers and products like this:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> C</span><span class="token punctuation">.</span><span class="token plain">name</span><span class="token punctuation">,</span><span class="token plain"> P</span><span class="token punctuation">.</span><span class="token plain">name</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">FROM</span><span class="token plain"> Customers C</span><span class="token punctuation">,</span><span class="token plain"> Products P</span><span class="token punctuation">,</span><span class="token plain"> Purchases O</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">WHERE</span><span class="token plain"> C</span><span class="token punctuation">.</span><span class="token plain">id </span><span class="token operator">=</span><span class="token plain"> O</span><span class="token punctuation">.</span><span class="token plain">customer_id </span><span class="token operator">AND</span><span class="token plain"> P</span><span class="token punctuation">.</span><span class="token plain">id </span><span class="token operator">=</span><span class="token plain"> O</span><span class="token punctuation">.</span><span class="token plain">product_id</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">The idea of the query is to get from tables `<code class="css-1eipsn1">Customers</code> and <code class="css-1eipsn1">Products</code> the information to match the table <code class="css-1eipsn1">Purchases</code>. To get reasonable results, we connect the tables with two conditions. We get the following result set with our query:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">name        name      </span></div><div class="token-line"><span class="token plain">----------  ----------</span></div><div class="token-line"><span class="token plain">Uolevi      carrot  </span></div><div class="token-line"><span class="token plain">Uolevi      celery   </span></div><div class="token-line"><span class="token plain">Maija       radish   </span></div><div class="token-line"><span class="token plain">Maija       parsley    </span></div><div class="token-line"><span class="token plain">Maija       celery</span></div></pre><p class="css-zitybv">With the same idea we could find out, which products are in the cart for a specific customer. For example, the following query retrieves the purchases for Maija:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> P</span><span class="token punctuation">.</span><span class="token plain">name</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">FROM</span><span class="token plain"> Customers C</span><span class="token punctuation">,</span><span class="token plain"> Products P</span><span class="token punctuation">,</span><span class="token plain"> Purchases O</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">WHERE</span><span class="token plain"> C</span><span class="token punctuation">.</span><span class="token plain">id </span><span class="token operator">=</span><span class="token plain"> O</span><span class="token punctuation">.</span><span class="token plain">customer_id </span><span class="token operator">AND</span><span class="token plain"> P</span><span class="token punctuation">.</span><span class="token plain">id </span><span class="token operator">=</span><span class="token plain"> O</span><span class="token punctuation">.</span><span class="token plain">product_id </span><span class="token operator">AND</span><span class="token plain"> C</span><span class="token punctuation">.</span><span class="token plain">name </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;Maija&#x27;</span><span class="token punctuation">;</span></div></pre><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">name      </span></div><div class="token-line"><span class="token plain">----------</span></div><div class="token-line"><span class="token plain">radish   </span></div><div class="token-line"><span class="token plain">parsley    </span></div><div class="token-line"><span class="token plain">celery</span></div></pre><h2 id="aggregate-from-tables" class="css-vq3asz">Aggregate from tables</h2><p class="css-zitybv">We can use aggregate functions and groupings for queries with multiple tables as well. For example we can create an aggregate, which shows for each customer how many products they have in their shopping cart, and what is the total price. We can do it as follows:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> C</span><span class="token punctuation">.</span><span class="token plain">name</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token plain">P</span><span class="token punctuation">.</span><span class="token plain">id</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token function">SUM</span><span class="token punctuation">(</span><span class="token plain">P</span><span class="token punctuation">.</span><span class="token plain">price</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">FROM</span><span class="token plain"> Customers C</span><span class="token punctuation">,</span><span class="token plain"> Products P</span><span class="token punctuation">,</span><span class="token plain"> Purchases O</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">WHERE</span><span class="token plain"> C</span><span class="token punctuation">.</span><span class="token plain">id </span><span class="token operator">=</span><span class="token plain"> O</span><span class="token punctuation">.</span><span class="token plain">customer_id </span><span class="token operator">AND</span><span class="token plain"> P</span><span class="token punctuation">.</span><span class="token plain">id </span><span class="token operator">=</span><span class="token plain"> O</span><span class="token punctuation">.</span><span class="token plain">product_id</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">GROUP</span><span class="token plain"> </span><span class="token keyword">BY</span><span class="token plain"> C</span><span class="token punctuation">.</span><span class="token plain">id</span><span class="token punctuation">;</span></div></pre><h2 id="how-are-we-grouping" class="css-vq3asz">How are we grouping?</h2><p class="css-zitybv">In this query the grouping is done by the column <code class="css-1eipsn1">C.id</code>, but in the query we are searching with the column <code class="css-1eipsn1">C.name</code>. This is reasonable, as the column <code class="css-1eipsn1">C.id</code> dictates the column <code class="css-1eipsn1">C.name</code>, and the query works fine in SQLite.  </p><p class="css-zitybv">In other databases (such as PostgreSQL) the requirement might be, that the column we are searching as such should also be in the grouping. Then the grouping should be <code class="css-1eipsn1">GROUP BY C.id, C.name</code></p><p class="css-zitybv">The idea of this query is to group the rows by the customer&#x27;s <code class="css-1eipsn1">id</code>, when the function <code class="css-1eipsn1">COUNT(P.id)</code> gives the amount of products in the customer&#x27;s cart and the function <code class="css-1eipsn1">SUM(P.price)</code> gives the total amount for said products. Our result set is as follows:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">name        COUNT(P.id)  SUM(P.price)</span></div><div class="token-line"><span class="token plain">----------  -----------  ------------</span></div><div class="token-line"><span class="token plain">Uolevi      2            9           </span></div><div class="token-line"><span class="token plain">Maija       3            19</span></div></pre><p class="css-zitybv">This means, that Uolevi&#x27;s purchases contain 2 products, with combined price of 9. Maija on the other hand has 3 products with the combined price of 19. Everything looks good... Or does it?</p><p class="css-zitybv">The problem with our query is that is is missing our third customer, Aapeli. We have come across a problem, which we shall sort by the end of this part.</p><h2 id="join-syntax" class="css-vq3asz">JOIN syntax</h2><p class="css-zitybv">So far we have gottern information from tables by selectin our tables with <code class="css-1eipsn1">FROM</code>, which usually works fine. However, sometimes we need to use the alternative <code class="css-1eipsn1">JOIN</code> syntax. It is useful when the result set seems to be &quot;missing&quot; information. </p><h2 id="ways-of-query" class="css-vq3asz">Ways of Query</h2><p class="css-zitybv">Next we have two ways of doing the same query, first by the way we already know, and the by using <code class="css-1eipsn1">JOIN</code> syntax.</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> Courses</span><span class="token punctuation">.</span><span class="token plain">name</span><span class="token punctuation">,</span><span class="token plain"> Teachers</span><span class="token punctuation">.</span><span class="token plain">name</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">FROM</span><span class="token plain"> Courses</span><span class="token punctuation">,</span><span class="token plain"> Teachers</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">WHERE</span><span class="token plain"> Courses</span><span class="token punctuation">.</span><span class="token plain">teacher_id </span><span class="token operator">=</span><span class="token plain"> Teachers</span><span class="token punctuation">.</span><span class="token plain">id</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">SELECT</span><span class="token plain"> Courses</span><span class="token punctuation">.</span><span class="token plain">name</span><span class="token punctuation">,</span><span class="token plain"> Teachers</span><span class="token punctuation">.</span><span class="token plain">name</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">FROM</span><span class="token plain"> Courses </span><span class="token keyword">JOIN</span><span class="token plain"> Teachers </span><span class="token keyword">ON</span><span class="token plain"> Courses</span><span class="token punctuation">.</span><span class="token plain">teacher_id </span><span class="token operator">=</span><span class="token plain"> Teachers</span><span class="token punctuation">.</span><span class="token plain">id</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">In the latter <code class="css-1eipsn1">JOIN</code> syntax, we use the word <em class="css-0">JOIN</em> between the tables as well as a condition to connect the rows with <code class="css-1eipsn1">ON</code>. After this we could use <code class="css-1eipsn1">WHERE</code> to add more conditions, just like before.</p><p class="css-zitybv">In this case JOIN syntax is just an alternative way to perform the query and it brings nothing new. Let&#x27;s see next, how we can expand the syntax so, that it gives us new possibilities in our queries.</p><h2 id="missing-information-problem" class="css-vq3asz">Missing information problem</h2><p class="css-zitybv">Let&#x27;s have a look at a situation, where we have the example tables of <code class="css-1eipsn1">Courses</code> and <code class="css-1eipsn1">Teachers</code>, but one course is missing a teacher:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">id          name               teacher_id</span></div><div class="token-line"><span class="token plain">----------  ----------------   -----------</span></div><div class="token-line"><span class="token plain">1           Basic programming  3          </span></div><div class="token-line"><span class="token plain">2           More programming   1          </span></div><div class="token-line"><span class="token plain">3           Algorithms         1          </span></div><div class="token-line"><span class="token plain">4           Scrum masters                </span></div><div class="token-line"><span class="token plain">5           Algebra            3</span></div></pre><p class="css-zitybv">On row 4 column <code class="css-1eipsn1">teacher_id</code> the value is <code class="css-1eipsn1">NULL</code>, so if we do either of the queries from before, the row 4 does not match any of the rows for table <code class="css-1eipsn1">Teachers</code>. Because of this the result set does not contain the row for Scrum masters:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">name                name      </span></div><div class="token-line"><span class="token plain">------------------  ----------</span></div><div class="token-line"><span class="token plain">Basic programming   Niemi   </span></div><div class="token-line"><span class="token plain">More programming    Ahonen     </span></div><div class="token-line"><span class="token plain">Algorithms          Ahonen     </span></div><div class="token-line"><span class="token plain">Algebra             Niemi</span></div></pre><p class="css-zitybv">Solution to this problem is to use <code class="css-1eipsn1">LEFT JOIN</code> syntax. This means that if a row from the left table does not connect to any row on the right table, the row is still included in the result set. For that row the values based on the right table is <code class="css-1eipsn1">NULL</code>.</p><p class="css-zitybv">In our case we could do the query like this:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> Courses</span><span class="token punctuation">.</span><span class="token plain">name</span><span class="token punctuation">,</span><span class="token plain"> Teachers</span><span class="token punctuation">.</span><span class="token plain">name</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">FROM</span><span class="token plain"> Courses </span><span class="token keyword">LEFT</span><span class="token plain"> </span><span class="token keyword">JOIN</span><span class="token plain"> Teachers </span><span class="token keyword">ON</span><span class="token plain"> Courses</span><span class="token punctuation">.</span><span class="token plain">teacher_id </span><span class="token operator">=</span><span class="token plain"> Teachers</span><span class="token punctuation">.</span><span class="token plain">id</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">Now we get the course Scrum masters without a teacher:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">name                name      </span></div><div class="token-line"><span class="token plain">------------------  ----------</span></div><div class="token-line"><span class="token plain">Basic programming   Niemi   </span></div><div class="token-line"><span class="token plain">More programming    Ahonen     </span></div><div class="token-line"><span class="token plain">Algorithms          Ahonen     </span></div><div class="token-line"><span class="token plain">Scrum masters       </span></div><div class="token-line"><span class="token plain">Algebra             Niemi</span></div></pre><h2 id="join-query-family" class="css-vq3asz">JOIN query family</h2><p class="css-zitybv"><code class="css-1eipsn1">JOIN query</code> has four variations:</p><ul class="css-0"><li class="css-0"><code class="css-1eipsn1">JOIN</code>: Works just as a regular query joining two tables.</li><li class="css-0"><code class="css-1eipsn1">LEFT JOIN</code>: If the row from the left table does not connect to the right table, it is still chosen to be part of the result set.</li><li class="css-0"><code class="css-1eipsn1">RIGHT JOIN</code>: If the row from the right table does not connect to the left table, it is still chosen to be part of the result set.</li><li class="css-0"><code class="css-1eipsn1">FULL JOIN</code>: From both left and right table we separately add into the result set those rows, which do not connect to the other table.</li></ul><p class="css-zitybv">For SQLite we can only do the first two ones. Fortunately, <code class="css-1eipsn1">LEFT JOIN</code> is the most common one (at least on this course, anyways).</p><p class="css-zitybv">A Venn diagram representation would be something like this:</p><p class="css-zitybv"><img src="https://raw.githubusercontent.com/centria/databases/master/src/images/sql_venn.png" alt="Venn diagram for SQL joins" class="css-0"/>
<style data-emotion="css 1b33xzc">.css-1b33xzc{color:var(--theme-ui-colors-primary);-webkit-transition:color 0.2s ease-out;transition:color 0.2s ease-out;}.css-1b33xzc:hover,.css-1b33xzc:focus{color:var(--theme-ui-colors-text);}</style><a href="https://www.codeproject.com/articles/33052/visual-representation-of-sql-joins" class="css-1b33xzc">Source: C.L.Moffatt</a></p><p class="css-zitybv">This diagram contains more than four variations. <code class="css-1eipsn1">INNER JOIN</code> is equal to <code class="css-1eipsn1">JOIN</code>, and <code class="css-1eipsn1">FULL OUTER JOIN</code> is <code class="css-1eipsn1">FULL JOIN</code>. The other variations are exclusive alternatives for the queries.</p><h2 id="missing-information-in-aggregate-query" class="css-vq3asz">Missing information in aggregate query</h2><p class="css-zitybv">Now we can tackle the problem of missing Aapeli. In our database we have the following tables:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">Products </span></div><div class="token-line"><span class="token plain"> id  name     price</span></div><div class="token-line"><span class="token plain"> --  ------   -----</span></div><div class="token-line"><span class="token plain"> 1   radish   7  </span></div><div class="token-line"><span class="token plain"> 2   carrot   5  </span></div><div class="token-line"><span class="token plain"> 3   turnip   4  </span></div><div class="token-line"><span class="token plain"> 4   parsley  8  </span></div><div class="token-line"><span class="token plain"> 5   celery   4  </span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain"> Customers </span></div><div class="token-line"><span class="token plain"> id  name  </span></div><div class="token-line"><span class="token plain"> --  ------</span></div><div class="token-line"><span class="token plain"> 1   Uolevi</span></div><div class="token-line"><span class="token plain"> 2   Maija</span></div><div class="token-line"><span class="token plain"> 3   Aapeli</span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain"> Purchases </span></div><div class="token-line"><span class="token plain"> customer_id  product_id</span></div><div class="token-line"><span class="token plain"> -----------  ----------</span></div><div class="token-line"><span class="token plain"> 1            2</span></div><div class="token-line"><span class="token plain"> 1            5</span></div><div class="token-line"><span class="token plain"> 2            1</span></div><div class="token-line"><span class="token plain"> 2            4</span></div><div class="token-line"><span class="token plain"> 2            5</span></div></pre><p class="css-zitybv">We declared our aggregate of purchases with the following query:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> C</span><span class="token punctuation">.</span><span class="token plain">name</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token plain">P</span><span class="token punctuation">.</span><span class="token plain">id</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token function">SUM</span><span class="token punctuation">(</span><span class="token plain">P</span><span class="token punctuation">.</span><span class="token plain">price</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">FROM</span><span class="token plain"> Customers C</span><span class="token punctuation">,</span><span class="token plain"> Products P</span><span class="token punctuation">,</span><span class="token plain"> Purchases O</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">WHERE</span><span class="token plain"> C</span><span class="token punctuation">.</span><span class="token plain">id </span><span class="token operator">=</span><span class="token plain"> O</span><span class="token punctuation">.</span><span class="token plain">customer_id </span><span class="token operator">AND</span><span class="token plain"> P</span><span class="token punctuation">.</span><span class="token plain">id </span><span class="token operator">=</span><span class="token plain"> O</span><span class="token punctuation">.</span><span class="token plain">product_id</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">GROUP</span><span class="token plain"> </span><span class="token keyword">BY</span><span class="token plain"> C</span><span class="token punctuation">.</span><span class="token plain">id</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">We ended up missing Aapeli from our result set:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">name        COUNT(P.id)  SUM(P.price)</span></div><div class="token-line"><span class="token plain">----------  -----------  ------------</span></div><div class="token-line"><span class="token plain">Uolevi      2            9</span></div><div class="token-line"><span class="token plain">Maija       3            19</span></div></pre><p class="css-zitybv">The cause for our problem is that Aapeli does not have any purchases, so when the query selects combinations from rows, there are no such rows where Aapeli would be present. The solution is to use <code class="css-1eipsn1">LEFT JOIN</code> like this:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> C</span><span class="token punctuation">.</span><span class="token plain">name</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token plain">P</span><span class="token punctuation">.</span><span class="token plain">id</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token function">SUM</span><span class="token punctuation">(</span><span class="token plain">P</span><span class="token punctuation">.</span><span class="token plain">price</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">FROM</span><span class="token plain"> Customers C </span><span class="token keyword">LEFT</span><span class="token plain"> </span><span class="token keyword">JOIN</span><span class="token plain"> Purchases O </span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">ON</span><span class="token plain"> C</span><span class="token punctuation">.</span><span class="token plain">id </span><span class="token operator">=</span><span class="token plain"> O</span><span class="token punctuation">.</span><span class="token plain">customer_id</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">LEFT</span><span class="token plain"> </span><span class="token keyword">JOIN</span><span class="token plain"> Products P </span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">ON</span><span class="token plain"> P</span><span class="token punctuation">.</span><span class="token plain">id </span><span class="token operator">=</span><span class="token plain"> O</span><span class="token punctuation">.</span><span class="token plain">product_id</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">GROUP</span><span class="token plain"> </span><span class="token keyword">BY</span><span class="token plain"> C</span><span class="token punctuation">.</span><span class="token plain">id</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">Now we also get Aapeli into our results:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">name        COUNT(P.id)  SUM(P.price)</span></div><div class="token-line"><span class="token plain">----------  -----------  ------------</span></div><div class="token-line"><span class="token plain">Uolevi      2            9           </span></div><div class="token-line"><span class="token plain">Maija       3            19          </span></div><div class="token-line"><span class="token plain">Aapeli      0</span></div></pre><p class="css-zitybv">As Aapeli has no purchases, the sum of the prices is <code class="css-1eipsn1">NULL</code>.</p></main></div><style data-emotion="css 7oi17p">.css-7oi17p{display:none;-webkit-flex:0 0 16rem;-ms-flex:0 0 16rem;flex:0 0 16rem;font-size:0.75rem;font-weight:600;}@media (min-width: 56.36842105263158em){.css-7oi17p{display:block;}}</style><aside class="css-7oi17p e18xy85f4"><style data-emotion="css dxzn2c">.css-dxzn2c{position:fixed;top:0;bottom:0;overflow-x:hidden;overflow-y:auto;width:16rem;height:100%;padding:7rem 1rem 0;}</style><nav class="css-dxzn2c e18xy85f3"><style data-emotion="css 1w6ve1a">.css-1w6ve1a{margin-top:0;font-size:0.7rem;font-weight:700;text-transform:uppercase;}</style><p class="css-1w6ve1a e18xy85f2">Contents</p><style data-emotion="css evawql">.css-evawql{margin:0;padding:0;list-style:none;}.css-evawql ul{margin:0;padding:0;list-style:none;}</style><ul class="css-evawql e18xy85f1"><style data-emotion="css 1uvgd5">.css-1uvgd5{margin:0.3rem 0;}</style><li class="css-1uvgd5 e18xy85f0"><style data-emotion="css 1j0udpt">.css-1j0udpt{display:inline-block;padding:0.2rem 0;width:100%;color:var(--theme-ui-colors-text);-webkit-text-decoration:none;text-decoration:none;-webkit-transition:color 0.2s ease-out;transition:color 0.2s ease-out;}.css-1j0udpt:hover,.css-1j0udpt:focus{color:var(--theme-ui-colors-primary);}</style><a href="/databases/part3#references-and-queries" class="css-1j0udpt e1r4v4s10">References and queries</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part3#example" class="css-1j0udpt e1r4v4s10">Example</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part3#what-actually-happened-here" class="css-1j0udpt e1r4v4s10">What actually happened here?</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part3#more-conditions-in-a-query" class="css-1j0udpt e1r4v4s10">More conditions in a query</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part3#short-names-for-tables" class="css-1j0udpt e1r4v4s10">Short names for tables</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part3#repeating-a-table" class="css-1j0udpt e1r4v4s10">Repeating a table</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part3#junction-table" class="css-1j0udpt e1r4v4s10">Junction table</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part3#example-1" class="css-1j0udpt e1r4v4s10">Example</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part3#aggregate-from-tables" class="css-1j0udpt e1r4v4s10">Aggregate from tables</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part3#how-are-we-grouping" class="css-1j0udpt e1r4v4s10">How are we grouping?</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part3#join-syntax" class="css-1j0udpt e1r4v4s10">JOIN syntax</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part3#ways-of-query" class="css-1j0udpt e1r4v4s10">Ways of Query</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part3#missing-information-problem" class="css-1j0udpt e1r4v4s10">Missing information problem</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part3#join-query-family" class="css-1j0udpt e1r4v4s10">JOIN query family</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part3#missing-information-in-aggregate-query" class="css-1j0udpt e1r4v4s10">Missing information in aggregate query</a></li></ul></nav></aside><style data-emotion="css jl45xv">.css-jl45xv{text-align:center;position:absolute;bottom:0;width:100%;height:6rem;padding-top:10px;font-size:1rem;background:var(--theme-ui-colors-footer);color:var(--theme-ui-colors-text);}.css-jl45xv a{-webkit-text-decoration:none;text-decoration:none;color:var(--theme-ui-colors-background);}</style><footer class="css-jl45xv e1krdi8y0"><p> <!-- -->2024<!-- -->, Built with<a href="https://web.centria.fi/"> Centria</a></p><p>More information about <a href="/databases/license">License</a></p></footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/part3";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-0d51d282d68ddbc99621.js"],"app":["/app-ed530a94b36d312dc3da.js"],"component---src-pages-404-js":["/component---src-pages-404-js-e7816ca82cb45e322130.js"],"component---src-templates-docs-js":["/component---src-templates-docs-js-c82167b9612215b3fdf2.js"]};/*]]>*/</script><script src="/databases/polyfill-0d51d282d68ddbc99621.js" nomodule=""></script><script src="/databases/component---src-templates-docs-js-c82167b9612215b3fdf2.js" async=""></script><script src="/databases/commons-2a140772cd0d960d3ca2.js" async=""></script><script src="/databases/app-ed530a94b36d312dc3da.js" async=""></script><script src="/databases/framework-d79a9ccabaa25efea902.js" async=""></script><script src="/databases/webpack-runtime-268f6552388089c91965.js" async=""></script></body></html>