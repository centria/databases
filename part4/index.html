<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 3.14.6"/><link rel="icon" href="/databases/favicon-32x32.png?v=dd253edc615d56282c5dcdfb24ca4261" type="image/png"/><link rel="manifest" href="/databases/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#a2466c"/><link rel="apple-touch-icon" sizes="48x48" href="/databases/icons/icon-48x48.png?v=dd253edc615d56282c5dcdfb24ca4261"/><link rel="apple-touch-icon" sizes="72x72" href="/databases/icons/icon-72x72.png?v=dd253edc615d56282c5dcdfb24ca4261"/><link rel="apple-touch-icon" sizes="96x96" href="/databases/icons/icon-96x96.png?v=dd253edc615d56282c5dcdfb24ca4261"/><link rel="apple-touch-icon" sizes="144x144" href="/databases/icons/icon-144x144.png?v=dd253edc615d56282c5dcdfb24ca4261"/><link rel="apple-touch-icon" sizes="192x192" href="/databases/icons/icon-192x192.png?v=dd253edc615d56282c5dcdfb24ca4261"/><link rel="apple-touch-icon" sizes="256x256" href="/databases/icons/icon-256x256.png?v=dd253edc615d56282c5dcdfb24ca4261"/><link rel="apple-touch-icon" sizes="384x384" href="/databases/icons/icon-384x384.png?v=dd253edc615d56282c5dcdfb24ca4261"/><link rel="apple-touch-icon" sizes="512x512" href="/databases/icons/icon-512x512.png?v=dd253edc615d56282c5dcdfb24ca4261"/><title data-react-helmet="true">More techniques</title><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link as="script" rel="preload" href="/databases/webpack-runtime-268f6552388089c91965.js"/><link as="script" rel="preload" href="/databases/framework-d79a9ccabaa25efea902.js"/><link as="script" rel="preload" href="/databases/app-ed530a94b36d312dc3da.js"/><link as="script" rel="preload" href="/databases/commons-2a140772cd0d960d3ca2.js"/><link as="script" rel="preload" href="/databases/component---src-templates-docs-js-c82167b9612215b3fdf2.js"/><link as="fetch" rel="preload" href="/databases/page-data/part4/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/databases/page-data/sq/d/1885717130.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/databases/page-data/sq/d/1950529541.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/databases/page-data/sq/d/2744905544.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/databases/page-data/sq/d/3020054368.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/databases/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
  var mode = localStorage.getItem('theme-ui-color-mode');
  if (!mode) return
  document.documentElement.classList.add('theme-ui-' + mode);
} catch (e) {} })();</script><div id="___gatsby"><style data-emotion="css-global xghfnh">html{--theme-ui-colors-header:#fff;--theme-ui-colors-text:#000;--theme-ui-colors-primary:#E10E49;--theme-ui-colors-secondary:#c70d3a;--theme-ui-colors-highlight:#efeffe;--theme-ui-colors-exercise:#3333ee;--theme-ui-colors-sidebar:#f8f5f1;--theme-ui-colors-background:#fff;--theme-ui-colors-borderColor:rgba(0, 0, 0, 0.15);--theme-ui-colors-footer:#E10E49;color:var(--theme-ui-colors-text);background-color:var(--theme-ui-colors-background);}</style><style data-emotion="css-global dcnl1w">*{box-sizing:border-box;}html{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.5;font-weight:400;}html h1{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:36px;}html h1::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}html h2{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:28px;}html h2::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}html h3{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:24px;}html h3::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}html h4{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:16px;}html h4::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}html h5{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:14px;}html h5::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}html h6{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:12px;}html h6::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}body{margin:0;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css ylfa0c">.css-ylfa0c{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.5;font-weight:400;}.css-ylfa0c h1{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:36px;}.css-ylfa0c h1::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}.css-ylfa0c h2{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:28px;}.css-ylfa0c h2::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}.css-ylfa0c h3{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:24px;}.css-ylfa0c h3::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}.css-ylfa0c h4{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:16px;}.css-ylfa0c h4::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}.css-ylfa0c h5{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:14px;}.css-ylfa0c h5::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}.css-ylfa0c h6{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:12px;}.css-ylfa0c h6::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}</style><div class="css-ylfa0c"><style data-emotion="css-global 5u4lmb">:root{--ease-in-quad:cubic-bezier(0.55, 0.085, 0.68, 0.53);--ease-in-quart:cubic-bezier(0.895, 0.03, 0.685, 0.22);--ease-out-quad:cubic-bezier(0.25, 0.46, 0.45, 0.94);--ease-out-quart:cubic-bezier(0.165, 0.84, 0.44, 1);--ease-in-out-quad:cubic-bezier(0.455, 0.03, 0.515, 0.955);--ease-in-out-quart:cubic-bezier(0.77, 0, 0.175, 1);}*,*:before,*:after{box-sizing:inherit;}:root{box-sizing:border-box;}body{margin:0;}.gatsby-resp-image-image{width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;}</style><style data-emotion="css dl5fst">.css-dl5fst{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:1rem 1rem;z-index:5;background:var(--theme-ui-colors-header);-webkit-transition:all 0.25s var(--ease-in-out-quad);transition:all 0.25s var(--ease-in-out-quad);border-bottom:1px solid var(--theme-ui-colors-borderColor);}@media (min-width: 38.73684210526316em){.css-dl5fst{position:fixed;top:0;left:0;right:0;padding:1rem 1.2rem;-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);}}</style><header class="css-dl5fst eneaom32"><style data-emotion="css 13apmpg">.css-13apmpg{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:0;text-alight:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-13apmpg eneaom30"><style data-emotion="css 1gp7fjh">.css-1gp7fjh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-right:1rem;}@media (min-width: 38.73684210526316em){.css-1gp7fjh{display:none;}}</style><div class="css-1gp7fjh eneaom31"><style data-emotion="css i05np8">.css-i05np8{padding:0;background:none;border:none;color:var(--theme-ui-colors-text);cursor:pointer;font-size:0.8rem;}.css-i05np8:hover{color:var(--theme-ui-colors-primary);}</style><button type="button" aria-label="Open Navigation" title="Open Navigation" class="css-i05np8 e1onh9ai0"><style data-emotion="css z2vy6x">.css-z2vy6x{display:inline-block;width:30px;height:30px;}</style><span size="30" class="css-z2vy6x e1jw6cnh0"><style data-emotion="css 17rqqes">.css-17rqqes{fill:var(--theme-ui-colors-text);-webkit-transition:all 0.2s ease-out;transition:all 0.2s ease-out;}.css-17rqqes:hover,.css-17rqqes:focus{fill:var(--theme-ui-colors-primary);}</style><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="css-17rqqes e15jrc190"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg></span></button></div><style data-emotion="css 13bl6n6">.css-13bl6n6{width:10rem;}.css-13bl6n6 p{margin:0;font-size:1.6rem;}</style><div class="css-13bl6n6 ewwdldv1"><style data-emotion="css o97vb3">.css-o97vb3{display:block;-webkit-text-decoration:none;text-decoration:none;color:var(--theme-ui-colors-text);-webkit-transition:color 0.2s ease-out;transition:color 0.2s ease-out;}.css-o97vb3:hover,.css-o97vb3:focus{color:var(--theme-ui-colors-primary);}</style><a class="css-o97vb3 ewwdldv0" href="/databases/"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:2641px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;1219&#x27; width=&#x27;2641&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/avif" data-srcset="/databases/static/7c5268770640a4d118046a43d1aa9fe2/9469b/Centria-tunnus-RGB-FI-marginaalilla.avif 660w,/databases/static/7c5268770640a4d118046a43d1aa9fe2/bb0ac/Centria-tunnus-RGB-FI-marginaalilla.avif 1321w,/databases/static/7c5268770640a4d118046a43d1aa9fe2/7558a/Centria-tunnus-RGB-FI-marginaalilla.avif 2641w" sizes="(min-width: 2641px) 2641px, 100vw"/><source type="image/webp" data-srcset="/databases/static/7c5268770640a4d118046a43d1aa9fe2/9ecf4/Centria-tunnus-RGB-FI-marginaalilla.webp 660w,/databases/static/7c5268770640a4d118046a43d1aa9fe2/316a0/Centria-tunnus-RGB-FI-marginaalilla.webp 1321w,/databases/static/7c5268770640a4d118046a43d1aa9fe2/93023/Centria-tunnus-RGB-FI-marginaalilla.webp 2641w" sizes="(min-width: 2641px) 2641px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2641px) 2641px, 100vw" decoding="async" loading="lazy" data-src="/databases/static/7c5268770640a4d118046a43d1aa9fe2/0cf45/Centria-tunnus-RGB-FI-marginaalilla.jpg" data-srcset="/databases/static/7c5268770640a4d118046a43d1aa9fe2/39f99/Centria-tunnus-RGB-FI-marginaalilla.jpg 660w,/databases/static/7c5268770640a4d118046a43d1aa9fe2/844fa/Centria-tunnus-RGB-FI-marginaalilla.jpg 1321w,/databases/static/7c5268770640a4d118046a43d1aa9fe2/0cf45/Centria-tunnus-RGB-FI-marginaalilla.jpg 2641w" alt="Centria banner"/></picture><noscript><picture><source type="image/avif" srcSet="/databases/static/7c5268770640a4d118046a43d1aa9fe2/9469b/Centria-tunnus-RGB-FI-marginaalilla.avif 660w,/databases/static/7c5268770640a4d118046a43d1aa9fe2/bb0ac/Centria-tunnus-RGB-FI-marginaalilla.avif 1321w,/databases/static/7c5268770640a4d118046a43d1aa9fe2/7558a/Centria-tunnus-RGB-FI-marginaalilla.avif 2641w" sizes="(min-width: 2641px) 2641px, 100vw"/><source type="image/webp" srcSet="/databases/static/7c5268770640a4d118046a43d1aa9fe2/9ecf4/Centria-tunnus-RGB-FI-marginaalilla.webp 660w,/databases/static/7c5268770640a4d118046a43d1aa9fe2/316a0/Centria-tunnus-RGB-FI-marginaalilla.webp 1321w,/databases/static/7c5268770640a4d118046a43d1aa9fe2/93023/Centria-tunnus-RGB-FI-marginaalilla.webp 2641w" sizes="(min-width: 2641px) 2641px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2641px) 2641px, 100vw" decoding="async" loading="lazy" src="/databases/static/7c5268770640a4d118046a43d1aa9fe2/0cf45/Centria-tunnus-RGB-FI-marginaalilla.jpg" srcSet="/databases/static/7c5268770640a4d118046a43d1aa9fe2/39f99/Centria-tunnus-RGB-FI-marginaalilla.jpg 660w,/databases/static/7c5268770640a4d118046a43d1aa9fe2/844fa/Centria-tunnus-RGB-FI-marginaalilla.jpg 1321w,/databases/static/7c5268770640a4d118046a43d1aa9fe2/0cf45/Centria-tunnus-RGB-FI-marginaalilla.jpg 2641w" alt="Centria banner"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div></a></div></div></header><style data-emotion="css pn4xbf">.css-pn4xbf{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:100vh;position:relative;overflow-x:hidden;background:var(--theme-ui-colors-background);-webkit-transition:background 0.25s var(--ease-in-out-quad);transition:background 0.25s var(--ease-in-out-quad);}</style><div class="css-pn4xbf e1krdi8y3"><style data-emotion="css 1oex1pb">.css-1oex1pb{margin-left:-19rem;-webkit-flex:0 0 19rem;-ms-flex:0 0 19rem;flex:0 0 19rem;font-size:0.875rem;}@media (min-width: 38.73684210526316em){.css-1oex1pb{margin-left:0;}}</style><aside class="css-1oex1pb ednv8641"><style data-emotion="css 1wrooys">.css-1wrooys{position:fixed;top:0;bottom:0;overflow-x:hidden;overflow-y:auto;width:19rem;height:100%;padding:1rem 0;background:var(--theme-ui-colors-sidebar);-webkit-transition:0.25s var(--ease-in-out-quad);transition:0.25s var(--ease-in-out-quad);}@media (min-width: 38.73684210526316em){.css-1wrooys{-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);padding:6.6rem 0 1rem;}}</style><nav class="css-1wrooys ednv8640"><style data-emotion="css pv1s1f">.css-pv1s1f{margin:0;padding:0;list-style:none;}</style><ul class="css-pv1s1f e1dzqqml0"><style data-emotion="css 1lbpo2j">.css-1lbpo2j{position:relative;display:block;padding:0;margin:0.2rem 0;width:100%;list-style:none;}</style><li class="css-1lbpo2j eo1v1f02"><style data-emotion="css 2kw81a">.css-2kw81a{margin:0.5rem 0 0.5rem 1.2rem;padding:0;list-style:none;}.css-2kw81a>li{margin:0;}</style><ul class="css-2kw81a eo1v1f00"><li class="css-1lbpo2j eo1v1f02"><style data-emotion="css zl329z">.css-zl329z{display:block;padding:0.5rem 1.8rem 0.5rem 1.2rem;width:100%;color:var(--theme-ui-colors-text);font-weight:600;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:color 0.2s ease-out;transition:color 0.2s ease-out;}.css-zl329z:hover,.css-zl329z:focus,.css-zl329z.is-active{color:var(--theme-ui-colors-primary);}</style><a class="css-zl329z eo1v1f01" href="/databases/part1">First steps</a></li><li class="css-1lbpo2j eo1v1f02"><a class="css-zl329z eo1v1f01" href="/databases/part2">SQL Basics</a></li><li class="css-1lbpo2j eo1v1f02"><a class="css-zl329z eo1v1f01" href="/databases/part3">Multible tables</a></li><li class="css-1lbpo2j eo1v1f02"><a aria-current="page" class="css-zl329z eo1v1f01 is-active" href="/databases/part4">More techniques</a></li><li class="css-1lbpo2j eo1v1f02"><a class="css-zl329z eo1v1f01" href="/databases/part5">Designing databases</a></li><li class="css-1lbpo2j eo1v1f02"><a class="css-zl329z eo1v1f01" href="/databases/part6">Data integrity</a></li><li class="css-1lbpo2j eo1v1f02"><a class="css-zl329z eo1v1f01" href="/databases/part7">Efficiency</a></li><li class="css-1lbpo2j eo1v1f02"><a class="css-zl329z eo1v1f01" href="/databases/exercises">Exercises and Exam</a></li></ul></li></ul></nav></aside><style data-emotion="css 1a5xr11">.css-1a5xr11{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;min-width:20rem;padding-bottom:5rem;}</style><div class="css-1a5xr11 e1krdi8y2"><style data-emotion="css 1ni6xgg">.css-1ni6xgg{margin:auto;padding:2rem 1rem 2.5rem;-webkit-transition:0.25s var(--ease-in-out-quad);transition:0.25s var(--ease-in-out-quad);opacity:1;}@media (min-width: 38.73684210526316em){.css-1ni6xgg{-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);opacity:1;padding:7rem 3rem 3rem;max-width:50rem;}}</style><main class="css-1ni6xgg e1krdi8y1"><style data-emotion="css 1daj6ng">.css-1daj6ng{padding-top:0;margin-top:0;}.css-1daj6ng::before{display:none!important;}</style><h1 class="css-1daj6ng e137ubq00">More techniques</h1><style data-emotion="css 1up8dbe">.css-1up8dbe{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:36px;}.css-1up8dbe::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}</style><h1 id="properties-of-sql" class="css-1up8dbe">Properties of SQL</h1><style data-emotion="css zitybv">.css-zitybv{margin-top:32px;margin-bottom:32px;}</style><p class="css-zitybv">In SQL there are many same elements as in programming: Types, statements and functions. We have seen many examples of SQL commands, but let&#x27;s loon into the language a bit deeper.</p><h1 id="types" class="css-1up8dbe">Types</h1><p class="css-zitybv">The types and their properties depend on the database system we are using. Usually there are several options even for integers and strings. In practice though, types <style data-emotion="css 1eipsn1">.css-1eipsn1{color:var(--theme-ui-colors-primary);background:rgba(233, 218, 172, 0.15);border-radius:3px;padding-left:0.4rem;padding-right:0.4rem;padding-top:0.2rem;padding-bottom:0.2rem;}</style><code class="css-1eipsn1">INTEGER</code> for integers and <code class="css-1eipsn1">TEXT</code> for strings go a long way.</p><style data-emotion="css vq3asz">.css-vq3asz{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:28px;}.css-vq3asz::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}</style><h2 id="text-vs-varchar" class="css-vq3asz">TEXT vs. VARCHAR</h2><p class="css-zitybv">Traditional SQL type for saving a string is <code class="css-1eipsn1">VARCHAR</code>, where we give the maximum length of the string. For example <code class="css-1eipsn1">VARCHAR(100)</code> means a string, which can have at most 100 characters.</p><p class="css-zitybv">This is one remainder of the programming from old times: back then the strings were often saved as an array, with a fixed amount of characters. In practice <code class="css-1eipsn1">TEXT</code> is more versatile as we do not have to come up with the maximum amount of characters.</p><h2 id="date-datetime-time-timestamp" class="css-vq3asz">DATE, DATETIME, TIME, TIMESTAMP...</h2><p class="css-zitybv">Very useful types of data are the types used for saving <code class="css-1eipsn1">DATE</code> and <code class="css-1eipsn1">TIME</code>. The naming and usage vary from database system to another, so it is best to check the details from the documentation of the databasey system we are using.</p><h1 id="statements" class="css-1up8dbe">Statements</h1><p class="css-zitybv">Statements are a part of SQL command, with a certain value. For example in query</p><style data-emotion="css 14vuu3">.css-14vuu3{background-color:#282c34;color:#ffffff;font-family:"Operator Mono",monospace;font-size:0.9rem;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;overflow:auto;border-radius:6px;padding:16px;margin-top:32px;margin-bottom:32px;}.css-14vuu3 .attr-name{color:#c5a5c5;}.css-14vuu3 .attr-value{color:#8dc891;}.css-14vuu3 .comment,.css-14vuu3 .block-comment,.css-14vuu3 .prolog,.css-14vuu3 .doctype,.css-14vuu3 .cdata,.css-14vuu3 .shebang{color:#999999;}.css-14vuu3 .property,.css-14vuu3 .number,.css-14vuu3 .function-name,.css-14vuu3 .constant,.css-14vuu3 .symbol,.css-14vuu3 .deleted{color:#5a9bcf;}.css-14vuu3 .boolean{color:#ff8b50;}.css-14vuu3 .tag{color:#fc929e;}.css-14vuu3 .string{color:#8dc891;}.css-14vuu3 .punctuation{color:#8dc891;}.css-14vuu3 .selector,.css-14vuu3 .char,.css-14vuu3 .builtin,.css-14vuu3 .inserted{color:#D8DEE9;}.css-14vuu3 .function{color:#79b6f2;}.css-14vuu3 .operator,.css-14vuu3 .entity,.css-14vuu3 .url,.css-14vuu3 .variable{color:#d7deea;}.css-14vuu3 .keyword{color:#c5a5c5;}.css-14vuu3 .at-rule,.css-14vuu3 .class-name{color:#FAC863;}.css-14vuu3 .important{font-weight:400;}.css-14vuu3 .bold{font-weight:700;}.css-14vuu3 .italic{font-style:italic;}.css-14vuu3 .namespace{opacity:0.7;}.css-14vuu3 .highlight{background-color:var(--theme-ui-colors-highlight);font-weight:700;}</style><style data-emotion="css 1itelf7">.css-1itelf7{background-color:#282c34;color:#ffffff;font-family:"Operator Mono",monospace;font-size:0.9rem;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;overflow:auto;border-radius:6px;padding:16px;margin-top:32px;margin-bottom:32px;}.css-1itelf7 .attr-name{color:#c5a5c5;}.css-1itelf7 .attr-value{color:#8dc891;}.css-1itelf7 .comment,.css-1itelf7 .block-comment,.css-1itelf7 .prolog,.css-1itelf7 .doctype,.css-1itelf7 .cdata,.css-1itelf7 .shebang{color:#999999;}.css-1itelf7 .property,.css-1itelf7 .number,.css-1itelf7 .function-name,.css-1itelf7 .constant,.css-1itelf7 .symbol,.css-1itelf7 .deleted{color:#5a9bcf;}.css-1itelf7 .boolean{color:#ff8b50;}.css-1itelf7 .tag{color:#fc929e;}.css-1itelf7 .string{color:#8dc891;}.css-1itelf7 .punctuation{color:#8dc891;}.css-1itelf7 .selector,.css-1itelf7 .char,.css-1itelf7 .builtin,.css-1itelf7 .inserted{color:#D8DEE9;}.css-1itelf7 .function{color:#79b6f2;}.css-1itelf7 .operator,.css-1itelf7 .entity,.css-1itelf7 .url,.css-1itelf7 .variable{color:#d7deea;}.css-1itelf7 .keyword{color:#c5a5c5;}.css-1itelf7 .at-rule,.css-1itelf7 .class-name{color:#FAC863;}.css-1itelf7 .important{font-weight:400;}.css-1itelf7 .bold{font-weight:700;}.css-1itelf7 .italic{font-style:italic;}.css-1itelf7 .namespace{opacity:0.7;}.css-1itelf7 .highlight{background-color:var(--theme-ui-colors-highlight);font-weight:700;}</style><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> price </span><span class="token keyword">FROM</span><span class="token plain"> Products </span><span class="token keyword">WHERE</span><span class="token plain"> name</span><span class="token operator">=</span><span class="token string">&#x27;radish&#x27;</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">Has four statements: <code class="css-1eipsn1">name</code>, <code class="css-1eipsn1">price</code>, <code class="css-1eipsn1">&#x27;radish&#x27;</code> and <code class="css-1eipsn1">name=&#x27;radish&#x27;</code>. In this the statement <code class="css-1eipsn1">price</code> and <code class="css-1eipsn1">price</code> get their values from the column of the row, statement <code class="css-1eipsn1">&#x27;radish&#x27;</code> is a string and the statement <code class="css-1eipsn1">name=&#x27;radish&#x27;</code> is a conditional statement to limit the query.</p><p class="css-zitybv">We can also use calculations and other operators the same way as in programming. For example the query</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> price</span><span class="token operator">*</span><span class="token number">2</span><span class="token plain"> </span><span class="token keyword">FROM</span><span class="token plain"> Products </span><span class="token keyword">WHERE</span><span class="token plain"> name</span><span class="token operator">=</span><span class="token string">&#x27;radish&#x27;</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">returns the price of the radish doubled.</p><p class="css-zitybv">A good way to test how SQL statements work is to discuss with the database by doing queries which do not search information from any tables, but only calculate values for statements. This could be something like</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">sqlite&gt; SELECT 2*(1+3);</span></div><div class="token-line"><span class="token plain">8</span></div><div class="token-line"><span class="token plain">sqlite&gt; SELECT &#x27;tes&#x27; || &#x27;ts&#x27;;</span></div><div class="token-line"><span class="token plain">tests</span></div><div class="token-line"><span class="token plain">sqlite&gt; SELECT 3 &lt; 5;</span></div><div class="token-line"><span class="token plain">1</span></div></pre><p class="css-zitybv">The first query calculates the value for statement <code class="css-1eipsn1">2*(1+3)</code>. The second query combines with the operator <code class="css-1eipsn1">||</code> the strings &#x27;tes&#x27; and &#x27;ts&#x27;. into &#x27;tests&#x27;. Third query defines the truth value for statement <code class="css-1eipsn1">3 &lt; 5</code>. The practice in SQL is that the truth value is given as an integer: <code class="css-1eipsn1">1 is true</code>, and <code class="css-1eipsn1">0 is false</code>.</p><p class="css-zitybv">Many items for SQL statements are already familar from programming:</p><ul class="css-0"><li class="css-0">calculations: <code class="css-1eipsn1">+</code>, <code class="css-1eipsn1">-</code>, <code class="css-1eipsn1">*</code>, <code class="css-1eipsn1">/</code>, <code class="css-1eipsn1">%</code></li><li class="css-0">comparison: <code class="css-1eipsn1">=</code>, <code class="css-1eipsn1">&lt;&gt;</code>, <code class="css-1eipsn1">&lt;</code>, <code class="css-1eipsn1">&lt;=</code>, <code class="css-1eipsn1">&gt;</code>, <code class="css-1eipsn1">&gt;=</code></li><li class="css-0">combining conditions: <code class="css-1eipsn1">AND</code>, <code class="css-1eipsn1">OR</code>, <code class="css-1eipsn1">NOT</code></li></ul><p class="css-zitybv">In addition to these SQL has some more special features, whose knowledge is useful. Next we will look into some of them:</p><h2 id="between" class="css-vq3asz">BETWEEN</h2><p class="css-zitybv">Statement <code class="css-1eipsn1">X BETWEEN a AND b</code> is true, if <code class="css-1eipsn1">X</code> is at least <code class="css-1eipsn1">a</code> and at most <code class="css-1eipsn1">b</code>. For example the query</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword">FROM</span><span class="token plain"> Products </span><span class="token keyword">WHERE</span><span class="token plain"> price </span><span class="token operator">BETWEEN</span><span class="token plain"> </span><span class="token number">4</span><span class="token plain"> </span><span class="token operator">AND</span><span class="token plain"> </span><span class="token number">6</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">Returns the products, whose price is at least 6 and at maximum 6. We can also write the same query like this:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword">FROM</span><span class="token plain"> Products </span><span class="token keyword">WHERE</span><span class="token plain"> price </span><span class="token operator">&gt;=</span><span class="token plain"> </span><span class="token number">4</span><span class="token plain"> </span><span class="token operator">AND</span><span class="token plain"> price </span><span class="token operator">&lt;=</span><span class="token plain"> </span><span class="token number">6</span><span class="token punctuation">;</span></div></pre><h2 id="case" class="css-vq3asz">CASE</h2><p class="css-zitybv">A <code class="css-1eipsn1">CASE</code> structure enables conditional statements. It can have one or more <code class="css-1eipsn1">WHEN</code> and a possible <code class="css-1eipsn1">ELSE</code>. For example the query</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> name</span><span class="token punctuation">,</span><span class="token plain"> </span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">CASE</span><span class="token plain"> </span><span class="token keyword">WHEN</span><span class="token plain"> price</span><span class="token operator">&gt;</span><span class="token number">5</span><span class="token plain"> </span><span class="token keyword">THEN</span><span class="token plain"> </span><span class="token string">&#x27;expensive&#x27;</span><span class="token plain"> </span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">ELSE</span><span class="token plain"> </span><span class="token string">&#x27;cheap&#x27;</span><span class="token plain"> </span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">END</span><span class="token plain"> </span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">FROM</span><span class="token plain"> Products</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">Retrieves the name for all the products and the information about them, if they are expensive or cheap. In this query the product is expensive if the price is over 5, otherwise it is cheap.</p><h2 id="in" class="css-vq3asz">IN</h2><p class="css-zitybv">Statement <code class="css-1eipsn1">x IN (...)</code> is true, if <code class="css-1eipsn1">x</code> is some of the given values. For example the query</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword">FROM</span><span class="token plain"> Products </span><span class="token keyword">WHERE</span><span class="token plain"> name </span><span class="token operator">IN</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token string">&#x27;turnip&#x27;</span><span class="token punctuation">,</span><span class="token string">&#x27;cucumber&#x27;</span><span class="token punctuation">,</span><span class="token string">&#x27;celery&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">Returns the products whose name is turnip, cucumber or celery.</p><h2 id="like" class="css-vq3asz">LIKE</h2><p class="css-zitybv">Statement <code class="css-1eipsn1">s LIKE p</code> is true, if the string <code class="css-1eipsn1">s</code> matches to the description <code class="css-1eipsn1">p</code>. In the description we can use special characters <code class="css-1eipsn1">_</code> (any single character) and <code class="css-1eipsn1">%</code> (any amount of any characters). For example</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword">FROM</span><span class="token plain"> Products </span><span class="token keyword">WHERE</span><span class="token plain"> name </span><span class="token operator">LIKE</span><span class="token plain"> </span><span class="token string">&#x27;%er%&#x27;</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">Returns the products whose name contain the string <code class="css-1eipsn1">er</code> (such as cucumber and celery).</p><h2 id="null" class="css-vq3asz">NULL</h2><p class="css-zitybv">Handling <code class="css-1eipsn1">NULL</code> values we have a separate syntax. For example</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword">FROM</span><span class="token plain"> Products </span><span class="token keyword">WHERE</span><span class="token plain"> price </span><span class="token operator">IS</span><span class="token plain"> </span><span class="token boolean">NULL</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">retrieves the products to which no price has been set, and the query</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword">FROM</span><span class="token plain"> Products </span><span class="token keyword">WHERE</span><span class="token plain"> price </span><span class="token operator">IS</span><span class="token plain"> </span><span class="token operator">NOT</span><span class="token plain"> </span><span class="token boolean">NULL</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">retrieves the products to which the price has been set.</p><h2 id="functions" class="css-vq3asz">Functions</h2><p class="css-zitybv">As a part of statements we can have functions, just like in programming. As with types, the functions available and their usage are dependant on the used database system and additional information should be checked from the database system documentation.</p><p class="css-zitybv">Here are some useful SQLite functions:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">name          function</span></div><div class="token-line"><span class="token plain">--------      ----------</span></div><div class="token-line"><span class="token plain">ABS(x)        returns the absolute value for x</span></div><div class="token-line"><span class="token plain">COALESCE(...) returns the first value from the list, which is not NULL</span></div><div class="token-line"><span class="token plain">LENGTH(s)     returns the length of the string s</span></div><div class="token-line"><span class="token plain">LOWER(s)      changes the characters in string s to lower case</span></div><div class="token-line"><span class="token plain">MAX(x,y)      returns the greater of integers x and y</span></div><div class="token-line"><span class="token plain">MIN(x,y)      returns the smaller of integers x and y</span></div><div class="token-line"><span class="token plain">RANDOM()      returns a random number</span></div><div class="token-line"><span class="token plain">ROUND(x,d)    returns x rounded to d decimals</span></div><div class="token-line"><span class="token plain">UPPER(s)     changers the characters in string s to upper case</span></div></pre><p class="css-zitybv">For example the query</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword">FROM</span><span class="token plain"> Products </span><span class="token keyword">WHERE</span><span class="token plain"> LENGTH</span><span class="token punctuation">(</span><span class="token plain">name</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">Returns the products whose name are six characters long (such as carrot, radish, turnip and celery). The query</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword">FROM</span><span class="token plain"> Products </span><span class="token keyword">ORDER</span><span class="token plain"> </span><span class="token keyword">BY</span><span class="token plain"> RANDOM</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">Returns the all the rows in random order, since the order is not based on any column but on a random number.</p><h1 id="subqueries" class="css-1up8dbe">Subqueries</h1><p class="css-zitybv">Subqueries are a statement used as a part of a SQL command, whose value is determined by a query. We can build subqueries in the same manner as main queries and produce queries with them, which could be difficult to achieve otherwise. </p><h2 id="example" class="css-vq3asz">Example</h2><p class="css-zitybv">Let&#x27;s look at a situation, where the database has a table for players&#x27; scores in the table <code class="css-1eipsn1">Results</code>. We assume the table is following:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">id          name        score     </span></div><div class="token-line"><span class="token plain">----------  ----------  ----------</span></div><div class="token-line"><span class="token plain">1           Uolevi      120       </span></div><div class="token-line"><span class="token plain">2           Maija       80        </span></div><div class="token-line"><span class="token plain">3           Liisa       120       </span></div><div class="token-line"><span class="token plain">4           Aapeli      45        </span></div><div class="token-line"><span class="token plain">5           Kaaleppi    115</span></div></pre><p class="css-zitybv">Now we want to know the players who have achieved the top score, and the query should return Uolevi and Liisa. We can achieve this by subquery like this:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> name</span><span class="token punctuation">,</span><span class="token plain"> score </span><span class="token keyword">FROM</span><span class="token plain"> Results </span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">WHERE</span><span class="token plain"> score </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">SELECT</span><span class="token plain"> </span><span class="token function">MAX</span><span class="token punctuation">(</span><span class="token plain">score</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword">FROM</span><span class="token plain"> Results</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">And we get:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">name        score     </span></div><div class="token-line"><span class="token plain">----------  ----------</span></div><div class="token-line"><span class="token plain">Uolevi      120       </span></div><div class="token-line"><span class="token plain">Liisa       120</span></div></pre><p class="css-zitybv">In this scenario the subquery is <code class="css-1eipsn1">SELECT MAX(score) FROM Results</code>, which gives the largest score in the table, in this case 120. Notice, that the subquery has to be enclosed brackets, so that it does not mix up with the outer query.</p><p class="css-zitybv">Here&#x27;s a bit more comlex query:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> name</span><span class="token punctuation">,</span><span class="token plain"> score </span><span class="token keyword">FROM</span><span class="token plain"> Results </span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">WHERE</span><span class="token plain"> score </span><span class="token operator">&gt;=</span><span class="token plain"> </span><span class="token number">0.9</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span><span class="token plain"> </span><span class="token function">MAX</span><span class="token punctuation">(</span><span class="token plain">score</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword">FROM</span><span class="token plain"> Results</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">This query shows, that we can use the value from the subquery as part of a statement, just like any other value. The query retrieves the players, whose score is at most 10 percent lower than the the best score:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">name        score     </span></div><div class="token-line"><span class="token plain">----------  ----------</span></div><div class="token-line"><span class="token plain">Uolevi      120       </span></div><div class="token-line"><span class="token plain">Liisa       120       </span></div><div class="token-line"><span class="token plain">Kaaleppi    115</span></div></pre><h2 id="correlated-or-synchronized-subquery" class="css-vq3asz">Correlated or synchronized subquery</h2><p class="css-zitybv">A subquery is also possible to create so, that its content is dependant or a row in the outer query. For example:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> name</span><span class="token punctuation">,</span><span class="token plain"> score</span><span class="token punctuation">,</span><span class="token plain"> </span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">(</span><span class="token keyword">SELECT</span><span class="token plain"> </span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword">FROM</span><span class="token plain"> Results </span><span class="token keyword">WHERE</span><span class="token plain"> score </span><span class="token operator">&gt;</span><span class="token plain"> R</span><span class="token punctuation">.</span><span class="token plain">score</span><span class="token punctuation">)</span><span class="token plain"> better </span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">FROM</span><span class="token plain"> Results R</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">The idea for this query is to calculate for each player, how many players have a better score than them. For example for Maija the answer is 3, since Uolevi, Liisa and Kaaleppi have better scores. We get the following result set:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">name        score       better</span></div><div class="token-line"><span class="token plain">----------  ----------  ----------</span></div><div class="token-line"><span class="token plain">Uolevi      120         0                                                    </span></div><div class="token-line"><span class="token plain">Maija       80          3                                                    </span></div><div class="token-line"><span class="token plain">Liisa       120         0                                                    </span></div><div class="token-line"><span class="token plain">Aapeli      45          4                                                    </span></div><div class="token-line"><span class="token plain">Kaaleppi    115         2</span></div></pre><p class="css-zitybv">Because the table Results is in two roles in the subquery, we have given the table Results additional name R. With this in the subquery it is clear that we want to count rows, whose score is better than the row score from the outer query.</p><h2 id="multiple-values-in-subquery" class="css-vq3asz">Multiple values in subquery</h2><p class="css-zitybv">Subquery can also return multiple values, as long as the result from the subquery are used in a location where this is allowed. This works in for example:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> name </span><span class="token keyword">FROM</span><span class="token plain"> Products</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">WHERE</span><span class="token plain"> id </span><span class="token operator">IN</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">SELECT</span><span class="token plain"> product_id </span><span class="token keyword">FROM</span><span class="token plain"> Purchases </span><span class="token keyword">WHERE</span><span class="token plain"> customer_id </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">This query retrieves all the names for products in customer 1&#x27;s shopping cart. The subquery returns the id values for the products, which can be combined with the IN syntax.</p><p class="css-zitybv">Notice, that we could have done the query also like this:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> P</span><span class="token punctuation">.</span><span class="token plain">name</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">FROM</span><span class="token plain"> Products P</span><span class="token punctuation">,</span><span class="token plain"> Purchases O</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">WHERE</span><span class="token plain"> P</span><span class="token punctuation">.</span><span class="token plain">id </span><span class="token operator">=</span><span class="token plain"> O</span><span class="token punctuation">.</span><span class="token plain">product_id </span><span class="token operator">AND</span><span class="token plain"> O</span><span class="token punctuation">.</span><span class="token plain">customer_id </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">Often a subquery is an alternative way to produce a query, which could just as well be done with for example properly designed multiple table query.</p><h1 id="limiting-results" class="css-1up8dbe">Limiting results</h1><p class="css-zitybv">SQL query by default returns all the rows mathcing its conditions, but we can ask for only a part of the rows when needed. This is useful for example in applications, where we only want to show a part of the results per page.</p><h2 id="ways-of-limiting" class="css-vq3asz">Ways of limiting</h2><p class="css-zitybv">When we add <code class="css-1eipsn1">LIMIT x</code> to the end of a query, the query only returns <code class="css-1eipsn1">x</code> first rows. For example <code class="css-1eipsn1">LIMIT 3</code> means, that the query only shows the first three rows of the result set.</p><p class="css-zitybv">A more common form is <code class="css-1eipsn1">LIMIT x OFFSET y</code>, which means that we want <code class="css-1eipsn1">x</code> rows starting from position <code class="css-1eipsn1">y</code> (with 0 indexing, of course). For example <code class="css-1eipsn1">LIMIT 3 OFFSET 1</code> means that the result set contains second, third and fourth rows.</p><h2 id="example-1" class="css-vq3asz">Example</h2><p class="css-zitybv">Let&#x27;s see an example query, which returns the products from cheapest to most expensive:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword">FROM</span><span class="token plain"> Products </span><span class="token keyword">ORDER</span><span class="token plain"> </span><span class="token keyword">BY</span><span class="token plain"> price</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">We get the following result set:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">id          name        price     </span></div><div class="token-line"><span class="token plain">----------  ----------  ----------</span></div><div class="token-line"><span class="token plain">3           cucumber    2</span></div><div class="token-line"><span class="token plain">5           celery      4         </span></div><div class="token-line"><span class="token plain">2           carrot      5         </span></div><div class="token-line"><span class="token plain">1           radish      7         </span></div><div class="token-line"><span class="token plain">4           turnip      8</span></div></pre><p class="css-zitybv">We can get the cheapest three as follows:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword">FROM</span><span class="token plain"> Products </span><span class="token keyword">ORDER</span><span class="token plain"> </span><span class="token keyword">BY</span><span class="token plain"> price </span><span class="token keyword">LIMIT</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">And the result is:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">id          name        price     </span></div><div class="token-line"><span class="token plain">----------  ----------  ----------</span></div><div class="token-line"><span class="token plain">3           cucumber    2         </span></div><div class="token-line"><span class="token plain">5           celery      4         </span></div><div class="token-line"><span class="token plain">2           carrot      5</span></div></pre><p class="css-zitybv">The next query in turn gets the three cheapest products, starting from the second cheapest:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword">FROM</span><span class="token plain"> Products </span><span class="token keyword">ORDER</span><span class="token plain"> </span><span class="token keyword">BY</span><span class="token plain"> price </span><span class="token keyword">LIMIT</span><span class="token plain"> </span><span class="token number">3</span><span class="token plain"> </span><span class="token keyword">OFFSET</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">And the result is:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">id          name        price     </span></div><div class="token-line"><span class="token plain">----------  ----------  ----------</span></div><div class="token-line"><span class="token plain">5           celery      4         </span></div><div class="token-line"><span class="token plain">2           carrot      5         </span></div><div class="token-line"><span class="token plain">1           radish      7</span></div></pre><h2 id="limiting-subquery" class="css-vq3asz">Limiting subquery</h2><p class="css-zitybv">Let&#x27;s look at a situation, where we want the combined price of the three cheapest products. The following query does not work like we would want:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> </span><span class="token function">SUM</span><span class="token punctuation">(</span><span class="token plain">price</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword">FROM</span><span class="token plain"> Products </span><span class="token keyword">ORDER</span><span class="token plain"> </span><span class="token keyword">BY</span><span class="token plain"> price </span><span class="token keyword">LIMIT</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">This returns the price of all the products in the table:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">SUM(price)</span></div><div class="token-line"><span class="token plain">----------</span></div><div class="token-line"><span class="token plain">26</span></div></pre><p class="css-zitybv">The problem is that the query forms the return set, where only one row containing the value 26 (sum of all products), after which we select the first three rows of the result set (in practice, the only row there is).</p><p class="css-zitybv">We can solve this with a subquery, where we get the three cheapest prices, and calculate the sum of these:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">SELECT</span><span class="token plain"> </span><span class="token function">SUM</span><span class="token punctuation">(</span><span class="token plain">price</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword">FROM</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">SELECT</span><span class="token plain"> price </span><span class="token keyword">FROM</span><span class="token plain"> Products </span><span class="token keyword">ORDER</span><span class="token plain"> </span><span class="token keyword">BY</span><span class="token plain"> price </span><span class="token keyword">LIMIT</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">Now we get the desired result:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">SUM(price)</span></div><div class="token-line"><span class="token plain">----------</span></div><div class="token-line"><span class="token plain">11</span></div></pre></main></div><style data-emotion="css 7oi17p">.css-7oi17p{display:none;-webkit-flex:0 0 16rem;-ms-flex:0 0 16rem;flex:0 0 16rem;font-size:0.75rem;font-weight:600;}@media (min-width: 56.36842105263158em){.css-7oi17p{display:block;}}</style><aside class="css-7oi17p e18xy85f4"><style data-emotion="css dxzn2c">.css-dxzn2c{position:fixed;top:0;bottom:0;overflow-x:hidden;overflow-y:auto;width:16rem;height:100%;padding:7rem 1rem 0;}</style><nav class="css-dxzn2c e18xy85f3"><style data-emotion="css 1w6ve1a">.css-1w6ve1a{margin-top:0;font-size:0.7rem;font-weight:700;text-transform:uppercase;}</style><p class="css-1w6ve1a e18xy85f2">Contents</p><style data-emotion="css evawql">.css-evawql{margin:0;padding:0;list-style:none;}.css-evawql ul{margin:0;padding:0;list-style:none;}</style><ul class="css-evawql e18xy85f1"><style data-emotion="css 1uvgd5">.css-1uvgd5{margin:0.3rem 0;}</style><li class="css-1uvgd5 e18xy85f0"><style data-emotion="css 1j0udpt">.css-1j0udpt{display:inline-block;padding:0.2rem 0;width:100%;color:var(--theme-ui-colors-text);-webkit-text-decoration:none;text-decoration:none;-webkit-transition:color 0.2s ease-out;transition:color 0.2s ease-out;}.css-1j0udpt:hover,.css-1j0udpt:focus{color:var(--theme-ui-colors-primary);}</style><a href="/databases/part4#properties-of-sql" class="css-1j0udpt e1r4v4s10">Properties of SQL</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part4#types" class="css-1j0udpt e1r4v4s10">Types</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part4#text-vs-varchar" class="css-1j0udpt e1r4v4s10">TEXT vs. VARCHAR</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part4#date-datetime-time-timestamp" class="css-1j0udpt e1r4v4s10">DATE, DATETIME, TIME, TIMESTAMP...</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part4#statements" class="css-1j0udpt e1r4v4s10">Statements</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part4#between" class="css-1j0udpt e1r4v4s10">BETWEEN</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part4#case" class="css-1j0udpt e1r4v4s10">CASE</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part4#in" class="css-1j0udpt e1r4v4s10">IN</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part4#like" class="css-1j0udpt e1r4v4s10">LIKE</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part4#null" class="css-1j0udpt e1r4v4s10">NULL</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part4#functions" class="css-1j0udpt e1r4v4s10">Functions</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part4#subqueries" class="css-1j0udpt e1r4v4s10">Subqueries</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part4#example" class="css-1j0udpt e1r4v4s10">Example</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part4#correlated-or-synchronized-subquery" class="css-1j0udpt e1r4v4s10">Correlated or synchronized subquery</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part4#multiple-values-in-subquery" class="css-1j0udpt e1r4v4s10">Multiple values in subquery</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part4#limiting-results" class="css-1j0udpt e1r4v4s10">Limiting results</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part4#ways-of-limiting" class="css-1j0udpt e1r4v4s10">Ways of limiting</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part4#example-1" class="css-1j0udpt e1r4v4s10">Example</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/databases/part4#limiting-subquery" class="css-1j0udpt e1r4v4s10">Limiting subquery</a></li></ul></nav></aside><style data-emotion="css jl45xv">.css-jl45xv{text-align:center;position:absolute;bottom:0;width:100%;height:6rem;padding-top:10px;font-size:1rem;background:var(--theme-ui-colors-footer);color:var(--theme-ui-colors-text);}.css-jl45xv a{-webkit-text-decoration:none;text-decoration:none;color:var(--theme-ui-colors-background);}</style><footer class="css-jl45xv e1krdi8y0"><p>© <!-- -->2024<!-- -->, Built with<a href="https://web.centria.fi/"> Centria</a></p><p>More information about <a href="/databases/license">License</a></p></footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/part4";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-0d51d282d68ddbc99621.js"],"app":["/app-ed530a94b36d312dc3da.js"],"component---src-pages-404-js":["/component---src-pages-404-js-e7816ca82cb45e322130.js"],"component---src-templates-docs-js":["/component---src-templates-docs-js-c82167b9612215b3fdf2.js"]};/*]]>*/</script><script src="/databases/polyfill-0d51d282d68ddbc99621.js" nomodule=""></script><script src="/databases/component---src-templates-docs-js-c82167b9612215b3fdf2.js" async=""></script><script src="/databases/commons-2a140772cd0d960d3ca2.js" async=""></script><script src="/databases/app-ed530a94b36d312dc3da.js" async=""></script><script src="/databases/framework-d79a9ccabaa25efea902.js" async=""></script><script src="/databases/webpack-runtime-268f6552388089c91965.js" async=""></script></body></html>